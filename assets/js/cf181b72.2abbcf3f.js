"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[1845],{8222:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"React/RESTAPI/Dane na stronie","title":"Wy\u015bwietlanie danych na stronie","description":"kontynuacja poprzedniej lekcji","source":"@site/docs/1. React/7. RESTAPI/4.Dane na stronie.mdx","sourceDirName":"1. React/7. RESTAPI","slug":"/React/RESTAPI/Dane na stronie","permalink":"/web/docs/React/RESTAPI/Dane na stronie","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/1. React/7. RESTAPI/4.Dane na stronie.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Wy\u015bwietlanie danych na stronie"},"sidebar":"tutorialSidebar","previous":{"title":"Dane w konsoli","permalink":"/web/docs/React/RESTAPI/Aplikacja w konsoli"},"next":{"title":"NodeJS - wprowadzenie","permalink":"/web/docs/Node/Node_intro"}}');var a=s(4848),i=s(8453);const r={title:"Wy\u015bwietlanie danych na stronie"},o="Tworzenie komponentu Card",c={},d=[{value:"<code>useState</code> jest jak pude\u0142ko",id:"usestate-jest-jak-pude\u0142ko",level:2},{value:"<code>useEffect</code> jest jak czujnik",id:"useeffect-jest-jak-czujnik",level:2},{value:"Zmiany w <code>App.tsx</code>",id:"zmiany-w-apptsx",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"kontynuacja poprzedniej lekcji"}),"\n",(0,a.jsx)(n.header,{children:(0,a.jsxs)(n.h1,{id:"tworzenie-komponentu-card",children:["Tworzenie komponentu ",(0,a.jsx)(n.code,{children:"Card"})]})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["dodajemy nowy komponent w folderze ",(0,a.jsx)(n.code,{children:"src"})," plik ",(0,a.jsx)(n.code,{children:"Card.tsx"})," (TypeScript JSX)"]}),"\n",(0,a.jsxs)(n.li,{children:["tworzymy prosty komponent i pod\u0142\u0105czamy go no g\u0142\xf3wnego ",(0,a.jsx)(n.code,{children:"App.tsx"}),"\n",(0,a.jsx)(n.code,{children:"Card.tsx"})]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"const Card = () => {\n\n    return (\n        <>\n            <h3>Star Wars Vehicles</h3>\n        </>\n    )\n}\n\nexport default Card;\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"App.tsx"})," - zmianny"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'//...\nimport Card from "./Card.tsx";\n//...\n\n  return (\n    <>\n      <h1>Star Wars Rest Api</h1>\n      <button onClick={fetchDataFromSwapi}>Fetch data from swapi.info</button>\n        <br />\n        <br />\n\n        <Card />\n    </>\n\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["dDane b\u0119d\u0105 pobierane z ",(0,a.jsx)(n.a,{href:"https://swapi.info/api/vehicles",children:"https://swapi.info/api/vehicles"})]}),"\n",(0,a.jsx)(n.li,{children:"zawieraj\u0105 one list\u0119 obiekt\xf3w"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'[\n\t{\n\t\t"name": "Sand Crawler",\n\t\t"model": "Digger Crawler",\n\t\t"manufacturer": "Corellia Mining Corporation",\n\t\t"cost_in_credits": "150000",\n\t\t"length": "36.8 ",\n\t\t"max_atmosphering_speed": "30",\n\t\t"crew": "46",\n\t\t"passengers": "30",\n\t\t"cargo_capacity": "50000",\n\t\t"consumables": "2 months",\n\t\t"vehicle_class": "wheeled",\n\t\t"pilots": [],\n\t\t"films": [\n\t\t\t"https://swapi.info/api/films/1",\n\t\t\t"https://swapi.info/api/films/5"\n\t\t],\n\t\t"created": "2014-12-10T15:36:25.724000Z",\n\t\t"edited": "2014-12-20T21:30:21.661000Z",\n\t\t"url": "https://swapi.info/api/vehicles/4"\n\t},\n\t{\n\t\t"name": "T-16 sk...\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["b\u0119dziemy pobiera\u0107 ",(0,a.jsx)(n.code,{children:"name"}),", ",(0,a.jsx)(n.code,{children:"model"}),", ",(0,a.jsx)(n.code,{children:"passengers"})]}),"\n"]}),"\n",(0,a.jsxs)(n.h1,{id:"dodanie-typu-propsa-w-card-plus-prosta-ramka",children:["Dodanie typu Propsa w ",(0,a.jsx)(n.code,{children:"Card"})," (plus prosta ramka)"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'\ninterface CardProps {\n    name: string;\n    model: string;\n    passengers: string\n}\n\nconst Card = ({name, model, passengers}: CardProps) => {\n\n    return (\n        <div  style={{ border: "1px solid #ccc", padding: "5px",\n                       borderRadius: "8px", margin: "5px" }}>\n            <h3>Star Wars Vehicles</h3>\n            <h4>Name: {name}</h4>\n            <h5>Model: {model} </h5>\n            <h6>Passengers: {passengers} </h6>\n        </div>\n    )\n}\n\nexport default Card;\n'})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"testujemy"})," w ",(0,a.jsx)(n.code,{children:"App.tsx"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:' return (\n    <>\n      <h1>Star Wars Rest Api</h1>\n      <button onClick={fetchDataFromSwapi}>Fetch data from swapi.info</button>\n        <br />\n        <br />\n\n        <Card name="X-Wing" model="T-65 X-wing" passengers="1234" />\n    </>\n\n'})}),"\n",(0,a.jsxs)(n.h1,{id:"pobietanie-listy-obiekt\xf3w-w-apptsx",children:["Pobietanie listy obiekt\xf3w w ",(0,a.jsx)(n.code,{children:"App.tsx"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"//...\n   function getAllVehicles(){\n        fetch(`${BASE}vehicles`)\n            .then(response => response.json())\n            .then(data => console.log(data))\n            .catch(error => console.log(error))\n    }\n\n    useEffect(() => {\n        getAllVehicles()\n    }, [])\n\n  return (\n\n//...\n"})}),"\n",(0,a.jsxs)(n.h1,{id:"dodajemy-hooki-usestate-i-useeffect",children:["Dodajemy hooki ",(0,a.jsx)(n.code,{children:"useState"})," i ",(0,a.jsx)(n.code,{children:"useEffect"})]}),"\n",(0,a.jsxs)(n.h2,{id:"usestate-jest-jak-pude\u0142ko",children:[(0,a.jsx)(n.code,{children:"useState"})," jest jak pude\u0142ko"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"masz w pokoju magiczne pude\u0142ko"}),"\n",(0,a.jsx)(n.li,{children:"wk\u0142adasz tam jak\u0105\u015b warto\u015b\u0107 (np. liczb\u0119, tekst, tablic\u0119)/ rzecz (np. zdj\u0119cie psa)."}),"\n",(0,a.jsx)(n.li,{children:"masz te\u017c pilot do zmieniania tego, co jest w pude\u0142ku."}),"\n",(0,a.jsx)(n.li,{children:"w pokoju masz ramk\u0119 do wy\u015bwietlania zdj\u0119\u0107,"}),"\n",(0,a.jsx)(n.li,{children:"za ka\u017cdym razem, gdy co\u015b zmienisz w pude\u0142ku (np. zmienisz zdj\u0119cie), React przemeblowuje pok\xf3j (od\u015bwie\u017ca komponent), \u017ceby wszystko zgadza\u0142o si\u0119 z nowym stanem."}),"\n"]}),"\n",(0,a.jsxs)(n.h2,{id:"useeffect-jest-jak-czujnik",children:[(0,a.jsx)(n.code,{children:"useEffect"})," jest jak czujnik"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"useEffect"})," reaguje, gdy wydarzy si\u0119 co\u015b konkretnego (np. zmieni si\u0119 liczba w pude\u0142ku, kto\u015b wejdzie do pokoju, minie czas)."]}),"\n",(0,a.jsx)(n.li,{children:"wtedy uruchamia dodatkow\u0105 akcj\u0119 (np. fetch danych, zapis do log\xf3w, timer)."}),"\n",(0,a.jsx)(n.li,{children:"np. gdy wchodzisz do pokoju, ma by\u0107 wy\u015bwietlone w ramce aktualne zdj\u0119cie, kt\xf3re przechowujesz w magicznym pude\u0142ku"}),"\n"]}),"\n",(0,a.jsxs)(n.h2,{id:"zmiany-w-apptsx",children:["Zmiany w ",(0,a.jsx)(n.code,{children:"App.tsx"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'// ...\n// okre\u015blamy typ danych zwracanych przez API\ntype Vehicle = {\n    name: string;\n    model: string;\n    passengers: string;\n    url: string;\n};\n\n//...\n\n```tsx\nfunction App() {\n    // tworzymy zmienn\u0105 przechowuj\u0105c\u0105 list\u0119 obiekt\xf3w\n    // , kt\xf3re zawieraj\u0105 informacje o poszczeg\xf3lnych pojazdach\n    const [vehicles, setVehicles] = useState<Vehicle[]>([])\n\n    // ...\n\n    // pobieramy dane z API\n\n    function getAllVehicles(){\n        fetch(\\`${BASE}vehicles\\`)\n            .then(response => response.json())\n            .then(data => setVehicles(data))\n            .catch(error => console.log(error))\n    }\n\n    useEffect(() => {\n        getAllVehicles()\n    }, [])\n\n\n  return (\n    <>\n      <h1>Star Wars Rest Api</h1>\n      <button onClick={fetchDataFromSwapi}>Fetch data from swapi.info</button>\n        <br />\n        <br />\n\n\n        <div style={{display:"grid", gap: "12px"}}>\n            {\n                vehicles.map((v) => (\n                    <Card\n                        key = {v.url}\n                        name={v.name}\n                        model={v.model}\n                        passengers={v.passengers}\n                    />\n                ))\n            }\n        </div>\n    </>\n  )\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var t=s(6540);const a={},i=t.createContext(a);function r(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);