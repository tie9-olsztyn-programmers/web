"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[2590],{8453:(e,s,n)=>{n.d(s,{R:()=>d,x:()=>t});var r=n(6540);const i={},o=r.createContext(i);function d(e){const s=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(o.Provider,{value:s},e.children)}},8967:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>t,default:()=>p,frontMatter:()=>d,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"ExpressJS/Express/ModulExpressJS","title":"Modu\u0142 `express`","description":"Wyobra\u017a sobie:","source":"@site/docs/3. ExpressJS/50.Express/10.ModulExpressJS.mdx","sourceDirName":"3. ExpressJS/50.Express","slug":"/ExpressJS/Express/ModulExpressJS","permalink":"/web/docs/ExpressJS/Express/ModulExpressJS","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/3. ExpressJS/50.Express/10.ModulExpressJS.mdx","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"title":"Modu\u0142 `express`"},"sidebar":"tutorialSidebar","previous":{"title":"Modu\u0142 `http`","permalink":"/web/docs/ExpressJS/ModulHttp"},"next":{"title":"School Board - Express","permalink":"/web/docs/ExpressJS/Express/SchoolBoard"}}');var i=n(4848),o=n(8453);const d={title:"Modu\u0142 `express`"},t="Modu\u0142 express",c={},l=[{value:"Co to jest ExpressJS?",id:"co-to-jest-expressjs",level:2},{value:"Jak utworzy\u0107 aplikacj\u0119 z Expressem?",id:"jak-utworzy\u0107-aplikacj\u0119-z-expressem",level:2},{value:"R\u0119czne tworzenie projektu",id:"r\u0119czne-tworzenie-projektu",level:3},{value:"Uproszczenie <code>tsconfig</code>",id:"uproszczenie-tsconfig",level:3},{value:"Rozbudowanie struktury projektu",id:"rozbudowanie-struktury-projektu",level:3},{value:"Dopisanie skrypt\xf3w uruchomieniowych",id:"dopisanie-skrypt\xf3w-uruchomieniowych",level:3},{value:"<code>src/index.ts</code>",id:"srcindexts",level:3}];function a(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsxs)(s.h1,{id:"modu\u0142-express",children:["Modu\u0142 ",(0,i.jsx)(s.code,{children:"express"})]})}),"\n",(0,i.jsxs)(s.admonition,{title:"Metafora na pocz\u0105tek",type:"tip",children:[(0,i.jsx)(s.p,{children:"Wyobra\u017a sobie:"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"Node.js"}),"     to silnik samochodu (umo\u017cliwia jazd\u0119, ale nic poza tym),"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"ExpressJS"}),"   to ca\u0142y samoch\xf3d z kierownic\u0105, desk\u0105 rozdzielcz\u0105 i hamulcem.","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Nie musisz zna\u0107 ka\u017cdego elementu silnika, by ruszy\u0107 w drog\u0119."}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,i.jsx)(s.h2,{id:"co-to-jest-expressjs",children:"Co to jest ExpressJS?"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"ExpressJS to framework dla Node.js, kt\xf3ry upraszcza tworzenie serwer\xf3w HTTP i aplikacji webowych."}),"\n",(0,i.jsxs)(s.li,{children:["Sam Node.js daje tylko surowe narz\u0119dzia (",(0,i.jsx)(s.code,{children:"http.createServer"}),"), a Express dodaje:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["routing (np. ",(0,i.jsx)(s.code,{children:"/users"}),", ",(0,i.jsx)(s.code,{children:"/login"}),", ",(0,i.jsx)(s.code,{children:"/api/products"}),"),"]}),"\n",(0,i.jsx)(s.li,{children:"obs\u0142ug\u0119 \u017c\u0105da\u0144 i odpowiedzi w prosty spos\xf3b,"}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"middleware"})," (np. logowanie, autoryzacja, parsowanie JSON-a),"]}),"\n",(0,i.jsx)(s.li,{children:"integracj\u0119 z szablonami HTML,"}),"\n",(0,i.jsx)(s.li,{children:"obs\u0142ug\u0119 b\u0142\u0119d\xf3w,"}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"REST API"})," w kilku linijkach kodu."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Przyk\u0142adowe alternatywne frameworki"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.em,{children:"Fastify"})," (",(0,i.jsx)(s.a,{href:"https://fastify.dev/",children:"https://fastify.dev/"}),")","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"nowszy,"}),"\n",(0,i.jsx)(s.li,{children:"szybszy ni\u017c Express,"}),"\n",(0,i.jsx)(s.li,{children:"ma podobne API, ale lepsz\u0105 wydajno\u015b\u0107."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.em,{children:"NestJS"})," (",(0,i.jsx)(s.a,{href:"https://nestjs.com/",children:"https://nestjs.com/"}),")","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"du\u017cy framework oparty na TypeScript i wzorowany na Angularze"}),"\n",(0,i.jsx)(s.li,{children:"idealny do wi\u0119kszych aplikacji."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.em,{children:"Koa"})," (",(0,i.jsx)(s.a,{href:"https://koajs.com/",children:"https://koajs.com/"}),")","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"tw\xf3rcy Expressa stworzyli Koa"}),"\n",(0,i.jsxs)(s.li,{children:["bardziej nowoczesny, oparty na ",(0,i.jsx)(s.code,{children:"async"}),"/",(0,i.jsx)(s.code,{children:"await"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.admonition,{title:"Node bez Expressa",type:"info",children:(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:'import http from "http";\n\nconst server = http.createServer((req, res) => {\n  res.writeHead(200, { "Content-Type": "text/plain" });\n  res.end("Hello from pure Node.js!");\n});\n\nserver.listen(3000, () => console.log("Server running on port 3000"));\n'})})}),"\n",(0,i.jsx)(s.admonition,{title:"Node z Expressem",type:"note",children:(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:'import express from "express";\nconst app = express();\n\napp.get("/", (req, res) => res.send("Hello from Expre   ss!"));\napp.get("/users", (req, res) => res.send("User list"));\n\napp.listen(3000, () => console.log("Server running on port 3000"));\n'})})}),"\n",(0,i.jsx)(s.h2,{id:"jak-utworzy\u0107-aplikacj\u0119-z-expressem",children:"Jak utworzy\u0107 aplikacj\u0119 z Expressem?"}),"\n",(0,i.jsx)(s.h3,{id:"r\u0119czne-tworzenie-projektu",children:"R\u0119czne tworzenie projektu"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"mkdir express_intro\ncd express_intro\nnpm init -y\nnpm install express\nnpm i -D typescript ts-node nodemon @types/node @types/express\nnpx tsc --init\n"})}),"\n",(0,i.jsxs)(s.h3,{id:"uproszczenie-tsconfig",children:["Uproszczenie ",(0,i.jsx)(s.code,{children:"tsconfig"})]}),"\n",(0,i.jsxs)(s.p,{children:["Zawarto\u015b\u0107 pliku ",(0,i.jsx)(s.code,{children:"tsconfig.ts"})," skasuj, a w to miejsce wklej poni\u017cszy kod:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "compilerOptions":\n    {\n      "target": "es2016",\n      "module": "commonjs",\n      "esModuleInterop": true,\n      "forceConsistentCasingInFileNames": true,\n      "strict": true,\n      "skipLibCheck": true,\n      "outDir": "dist",\n      "rootDir": "src"\n       },\n  "include": ["src"]\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"rozbudowanie-struktury-projektu",children:"Rozbudowanie struktury projektu"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"project/\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 index.ts\n\u251c\u2500\u2500 dist/\n\u2502   \u2514\u2500\u2500 index.js   (automatycznie generowany)\n\u251c\u2500\u2500 ...\n\u2514\u2500\u2500 tsconfig.json\n\n"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["utw\xf3rz folder ",(0,i.jsx)(s.code,{children:"src"})]}),"\n",(0,i.jsxs)(s.li,{children:["wewn\u0105trz folderu ",(0,i.jsx)(s.code,{children:"src"})," zr\xf3b plik ",(0,i.jsx)(s.code,{children:"index.ts"})]}),"\n",(0,i.jsxs)(s.li,{children:["w tym pliku napisz ",(0,i.jsx)(s.code,{children:'console.log("Welcome TS Express")'})]}),"\n",(0,i.jsxs)(s.li,{children:["folder ",(0,i.jsx)(s.code,{children:"dir"})," jest generowany automatycznie"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"dopisanie-skrypt\xf3w-uruchomieniowych",children:"Dopisanie skrypt\xf3w uruchomieniowych"}),"\n",(0,i.jsxs)(s.p,{children:["W pliku ",(0,i.jsx)(s.code,{children:"package.json"})," dopiszmy:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'scripts": {\n    "test": "echo \\"Error: no test specified\\" && exit 1",\n    "start": "ts-node src/index.ts",\n    "dev": "nodemon --exec ts-node src/index.ts"\n  },\n'})}),"\n",(0,i.jsxs)(s.admonition,{type:"note",children:[(0,i.jsx)(s.mdxAdmonitionTitle,{children:(0,i.jsx)(s.code,{children:"nodemon"})}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"to narz\u0119dzie do automatycznego restartowania serwera Node.js,\ngdy wykryje, \u017ce jaki\u015b plik w projekcie si\u0119 zmieni\u0142."}),"\n"]}),(0,i.jsx)(s.p,{children:"Jak dzia\u0142a nodemon w tle:"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Nadzoruje zmiany plik\xf3w (tzw. file watcher)."}),"\n",(0,i.jsx)(s.li,{children:"Gdy co\u015b si\u0119 zmieni \u2014 zabija aktualny proces i uruchamia nowy."}),"\n"]}),(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"nodemon --exec ts-node src/index.ts"}),"\n\u201eUruchom ",(0,i.jsx)(s.code,{children:"ts-node src/index.ts"}),", a kiedy zmieni si\u0119 jaki\u015b plik ",(0,i.jsx)(s.code,{children:".ts"}),",\nzrestartuj ten proces automatycznie.\u201d"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"--exec"})," m\xf3wi, jakiego programu u\u017cy\u0107 do uruchomienia kodu,"]}),"\n"]})]}),"\n",(0,i.jsx)(s.h3,{id:"srcindexts",children:(0,i.jsx)(s.code,{children:"src/index.ts"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:'// bezproblemowy import bo w tsconfig mamy\n//  "esModuleInterop": true,\n// typy Request, Response z paczki @types/express\nimport express, {Request, Response} from \'express\'\n\nconst app =express() // instancja aplikacji Express\nconst PORT = 3000\n\n\n// rejestracja trasy GET na `/`\n\napp.get("/", (req:Request, res:Response) => {\n    //`send` wysy\u0142a tre\u015b\u0107 i ko\u0144czy odpowied\u017a (ustawia status 200)\n    res.send("Hello from Express and TypeScript")\n    //res.send("Witam z Expressa z TypeScriptem")\n\n})\n\napp.listen(PORT, () => {\n    console.log(`Server is running on port ${PORT}`)\n})\n'})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["odkomentuj drugi ",(0,i.jsx)(s.code,{children:"res.send"})," i sprawd\u017a, co sie dzieje"]}),"\n",(0,i.jsxs)(s.li,{children:["zakomentuj pierwszy ",(0,i.jsx)(s.code,{children:"res.send"})," i sprawd\u017a, co si\u0119 dzieje"]}),"\n"]})]})}function p(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);