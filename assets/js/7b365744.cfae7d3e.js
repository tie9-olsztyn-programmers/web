"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[2115],{2177:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>r,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"React/RESTAPI/Aplikacja w konsoli","title":"Dane w konsoli","description":"kontynuacja z poprzedniej lekcji","source":"@site/docs/1. React/7. RESTAPI/3.Aplikacja w konsoli.mdx","sourceDirName":"1. React/7. RESTAPI","slug":"/React/RESTAPI/Aplikacja w konsoli","permalink":"/web/docs/React/RESTAPI/Aplikacja w konsoli","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/1. React/7. RESTAPI/3.Aplikacja w konsoli.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Dane w konsoli"},"sidebar":"tutorialSidebar","previous":{"title":"Star Wars - Aplikacja React Rest Api","permalink":"/web/docs/React/RESTAPI/Aplikacje React Rest Api"},"next":{"title":"Wy\u015bwietlanie danych na stronie","permalink":"/web/docs/React/RESTAPI/Dane na stronie"}}');var s=a(4848),o=a(8453);const i={title:"Dane w konsoli"},c="Pobranie danych JSON",r={},l=[];function d(n){const e={a:"a",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"kontynuacja z poprzedniej lekcji"}),"\n",(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"pobranie-danych-json",children:"Pobranie danych JSON"})}),"\n",(0,s.jsxs)(e.p,{children:["Zmie\u0144 funkcj\u0119 ",(0,s.jsx)(e.code,{children:"fetchDataFromSwapi"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:"   const fetchDataFromSwapi = async () => {\n        const data: Response = await  fetch(`${BASE}people/1`)\n        const jsonData: any = await data.json()\n        console.log(jsonData)\n    }\n\n"})}),"\n",(0,s.jsx)(e.h1,{id:"zdefiniowanie-typu-danych",children:"Zdefiniowanie typu danych"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"jsonData"})," powinno przechowywa\u0107 dane jsonowe"]}),"\n",(0,s.jsxs)(e.li,{children:["metoda ",(0,s.jsx)(e.code,{children:"fetch"})," nie wie, jaka jest struktura tych danych, dlatego ",(0,s.jsx)(e.code,{children:"jsonData"})," jest typu ",(0,s.jsx)(e.code,{children:"any"})]}),"\n",(0,s.jsxs)(e.li,{children:["na stronie ",(0,s.jsx)(e.a,{href:"https://swapi.info/api/people/1",children:"https://swapi.info/api/people/1"})," wida\u0107 struktur\u0119 danych"]}),"\n",(0,s.jsx)(e.li,{children:"wi\u0119c samodzielnie zdefiniujemy nowy typ danych"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:"import './App.css'\n\nconst BASE = 'https://swapi.info/api/'\n\ntype Person = {\n    name: string\n    height: string\n    mass: string\n    birth_year: string\n    gender: string\n    homeworld: string\n    starships: string[]\n    vehicles: string[]\n    films: string[]\n    url: string\n}\n\n\nfunction App() {\n\n    const fetchDataFromSwapi = async () => {\n        const data: Response = await  fetch(`${BASE}people/1`)\n        const jsonData: Person = await data.json()\n        console.log(jsonData)\n    }\n\n  return (\n    <>\n      <h1>Star Wars Rest Api</h1>\n      <button onClick={fetchDataFromSwapi}>Fetch data from swapi.info</button>\n\n    </>\n  )\n}\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"type"})," dzia\u0142a po stronie TS (Typ w TypeScript to tylko deklaracja, co TY chcesz \u201ewidzie\u0107\u201d i kontrolowa\u0107 w swoim kodzie)."]}),"\n",(0,s.jsx)(e.li,{children:"API zwraca pe\u0142ne dane"}),"\n"]}),"\n",(0,s.jsx)(e.h1,{id:"dodanie-obs\u0142ugi-b\u0142\u0119du",children:"Dodanie obs\u0142ugi b\u0142\u0119du"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:"    const fetchDataFromSwapi = async () => {\n        try{\n            const data: Response = await  fetch(`${BASE}people/1`)\n            const jsonData: Person = await data.json()\n            console.log(jsonData)\n        } catch(error){\n            if(error instanceof Error){\n                console.log(error.message)\n            }else {\n                console.log('Unknown error')\n            }\n\n        }\n\n    }\n"})}),"\n",(0,s.jsx)(e.h1,{id:"\u0142a\u0144cuch-obietnic---starsza-syntaktyka",children:"\u0141a\u0144cuch obietnic - starsza syntaktyka"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-tsx",children:" const fetchDataFromSwapi =  () => {\n\n        fetch(`${BASE}people/1`)\n            .then(data => data.json())\n            .then(jsonData => console.log(jsonData))\n            .catch(error => console.log(error))\n    }\n"})}),"\n",(0,s.jsx)(e.p,{children:"Kod dzia\u0142a tak samo jak poprzedni."})]})}function p(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,e,a)=>{a.d(e,{R:()=>i,x:()=>c});var t=a(6540);const s={},o=t.createContext(s);function i(n){const e=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);