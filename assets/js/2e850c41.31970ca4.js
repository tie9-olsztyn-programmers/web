"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[7707],{8049:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>j,frontMatter:()=>d,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"MongoDB/Od planu do raportu/Plan","title":"Plan","description":"Je\u015bli nie zaplanujesz danych, Twoja baza szybko zmieni si\u0119 w cyfrowe wysypisko.","source":"@site/docs/4. MongoDB/110. Od planu do raportu/20.Plan.mdx","sourceDirName":"4. MongoDB/110. Od planu do raportu","slug":"/MongoDB/Od planu do raportu/Plan","permalink":"/web/docs/MongoDB/Od planu do raportu/Plan","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/4. MongoDB/110. Od planu do raportu/20.Plan.mdx","tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"title":"Plan"},"sidebar":"tutorialSidebar","previous":{"title":"Workflow w MongoDB","permalink":"/web/docs/MongoDB/Od planu do raportu/Workflow w MongoDB"},"next":{"title":"Start","permalink":"/web/docs/MongoDB/Od planu do raportu/Start"}}');var i=t(4848),s=t(8453);const d={title:"Plan"},r="Czas na wielki plan",a={},c=[{value:"Cel etapu",id:"cel-etapu",level:2},{value:"Wyobra\u017a sobie",id:"wyobra\u017a-sobie",level:2},{value:"Struktura bazy danych",id:"struktura-bazy-danych",level:2},{value:"M\xf3j <code>md</code>",id:"m\xf3j-md",level:2},{value:"Kod",id:"kod",level:3},{value:"Wygl\u0105d",id:"wygl\u0105d",level:3},{value:"1. Kolekcja: <code>produkty</code>",id:"1-kolekcja-produkty",level:4},{value:"2. Kolekcja: <code>klienci</code>",id:"2-kolekcja-klienci",level:4},{value:"3. Kolekcja: <code>zamowienia</code>",id:"3-kolekcja-zamowienia",level:4}];function o(e){const n={admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"czas-na-wielki-plan",children:"Czas na wielki plan"})}),"\n",(0,i.jsx)(n.p,{children:"Je\u015bli nie zaplanujesz danych, Twoja baza szybko zmieni si\u0119 w cyfrowe wysypisko."}),"\n",(0,i.jsx)(n.h2,{id:"cel-etapu",children:"Cel etapu"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Stworzenie dokumentu, kt\xf3ry b\u0119dzie map\u0105 dla ca\u0142ego zespo\u0142u."}),"\n",(0,i.jsxs)(n.li,{children:["Ka\u017cdy, kto zajrzy do pliku ",(0,i.jsx)(n.code,{children:"schema.md"}),", musi od razu wiedzie\u0107,\njakie dane przechowujemy i jak s\u0105 one ze sob\u0105 po\u0142\u0105czone."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"wyobra\u017a-sobie",children:"Wyobra\u017a sobie"}),"\n",(0,i.jsx)(n.p,{children:"Wyobra\u017a sobie, \u017ce siedzisz naprzeciwko w\u0142a\u015bciciela najnowocze\u015bniejszej piekarni w mie\u015bcie.\nKlient nie zna si\u0119 na bazach danych, m\xf3wi \u201ej\u0119zykiem biznesu\u201d.\nTwoim zadaniem jest wy\u0142apanie z tej opowie\u015bci konkretnych p\xf3l, typ\xf3w danych i kolekcji."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Wywiad z w\u0142a\u015bcicielem"}),":"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u201eS\u0142uchajcie, moja ",(0,i.jsx)(n.em,{children:"CyberPiekarnia"})," to nie jest zwyk\u0142y sklep z bu\u0142kami.\nPotrzebuj\u0119 systemu, kt\xf3ry ogarnie nasz asortyment.\nKa\u017cdy wypiek ma swoj\u0105 unikaln\u0105 nazw\u0119, wiadomo, ale te\u017c cen\u0119.\nWa\u017cne s\u0105 sk\u0142adniki, bo teraz mn\xf3stwo ludzi ma alergie \u2013\nmusz\u0119 mie\u0107 list\u0119 wszystkich produkt\xf3w u\u017cytych do pieczenia w ka\u017cdym chlebie.\nNo i musz\u0119 wiedzie\u0107, czy dany produkt jest wega\u0144ski, czy nie \u2013 to teraz bardzo modne."]}),"\n",(0,i.jsx)(n.p,{children:"Co do klient\xf3w... chc\u0119 ich \u015bledzi\u0107 (oczywi\u015bcie dla ich dobra!).\nKa\u017cdy musi mie\u0107 sw\xf3j pseudonim, e-mail do wysy\u0142ki newslettera i informacj\u0119 o tym,\nile ma u nas punkt\xf3w lojalno\u015bciowych.\nNiekt\xf3rzy to nasi 'Cyber-VIPy' \u2013 maj\u0105 wtedy aktywny status subskrypcji, co daje im darmowe dowozy.\nI najwa\u017cniejsze: zam\xf3wienia. Musz\u0119 wiedzie\u0107, kto kupi\u0142, co kupi\u0142 i kiedy dok\u0142adnie to by\u0142o.\nSystem ma te\u017c zapisywa\u0107 ca\u0142kowit\u0105 kwot\u0119, jak\u0105 klient zap\u0142aci\u0142, bo czasem mamy promocje i\ncena z katalogu mo\u017ce si\u0119 r\xf3\u017cni\u0107 od tej na paragonie.\u201d"}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{title:"Podpowied\u017a \u2014 jak analizowa\u0107 ten tekst?",type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:['Szukaj "G\u0142\xf3wnych Bohater\xf3w" (Kolekcje):',"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"To byty, o kt\xf3rych klient chce gromadzi\u0107 dane."}),"\n",(0,i.jsx)(n.li,{children:"Zazwyczaj wyst\u0119puj\u0105 w liczbie mnogiej lub jako grupy przedmiot\xf3w."}),"\n",(0,i.jsx)(n.li,{children:'Przyk\u0142ad: "Chc\u0119 systemu, kt\xf3ry ogarnie nasz asortyment" -> Kolekcja produkty.'}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:['Szukaj "Etykiet" (Pola/Atrybuty):',"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'To cechy, kt\xf3re przyklejamy do naszych "bohater\xf3w".'}),"\n",(0,i.jsx)(n.li,{children:"Opisuj\u0105 one konkretny egzemplarz."}),"\n",(0,i.jsx)(n.li,{children:'Przyk\u0142ad: "...ka\u017cdy wypiek ma swoj\u0105 nazw\u0119 i cen\u0119" -> To s\u0105 detale, kt\xf3re w\u0119druj\u0105 do \u015brodka dokumentu w kolekcji produkty.'}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,i.jsx)(n.h2,{id:"struktura-bazy-danych",children:"Struktura bazy danych"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Kolekcja ",(0,i.jsx)(n.code,{children:"produkty"})," (Katalog towar\xf3w)"]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'nazwa: String (np. "Chleb Kwantowy")'}),"\n",(0,i.jsx)(n.li,{children:"cena: Number (zmiennoprzecinkowy)"}),"\n",(0,i.jsxs)(n.li,{children:["sk\u0142adniki: Array (np. ",(0,i.jsx)(n.code,{children:'["m\u0105ka \u017cytnia", s\xf3l, "oliwki"]'}),")"]}),"\n",(0,i.jsx)(n.li,{children:"czy_wege: Boolean"}),"\n",(0,i.jsx)(n.li,{children:"stan_magazynowy: Int (ile sztuk mamy na p\xf3\u0142ce)"}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["Kolekcja ",(0,i.jsx)(n.code,{children:"klienci"})," (Baza u\u017cytkownik\xf3w)\nMusimy wiedzie\u0107, komu sprzedajemy nasze wypieki."]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"login: String (unikalny)"}),"\n",(0,i.jsx)(n.li,{children:"email: String"}),"\n",(0,i.jsx)(n.li,{children:"punkty_lojalnosciowe: Int"}),"\n",(0,i.jsx)(n.li,{children:"czy_vip: Boolean"}),"\n",(0,i.jsxs)(n.li,{children:["preferencje: Object (np. ",(0,i.jsx)(n.code,{children:'{ ulubiony_typ: "bu\u0142ki", smak: "z dodatkami }'}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"Kolekcja zamowienia (Relacje!)\nTo najtrudniejszy element.\nMusimy po\u0142\u0105czy\u0107 klienta z produktem.\nW MongoDB robimy to zazwyczaj przez Referencje (zapisujemy ID klienta i ID produktu)."}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"klient_id: ObjectId"}),"\n",(0,i.jsx)(n.li,{children:"produkty: Array (elementami ObjectId produkt\xf3w)"}),"\n",(0,i.jsx)(n.li,{children:"data_zakupu: Date"}),"\n",(0,i.jsx)(n.li,{children:"kwota_koncowa: Float"}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"m\xf3j-md",children:["M\xf3j ",(0,i.jsx)(n.code,{children:"md"})]}),"\n",(0,i.jsx)(n.h3,{id:"kod",children:"Kod"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'### 1. Kolekcja: `produkty`\n| Pole | Typ | Opis | Przyk\u0142ad |\n| :--- | :--- | :--- | :--- |\n| `nazwa` | **String** | Unikalna nazwa produktu. | `"Chleb Kwantowy"` |\n| `cena` | **Number** | Cena katalogowa. | `12.99` |\n| `skladniki` | **Array** | Lista surowc\xf3w. | `["m\u0105ka \u017cytnia", "s\xf3l"]` |\n| `czy_wege` | **Boolean** | Czy produkt jest wega\u0144ski. | `true` |\n| `stan_magazynowy` | **Int** | Ilo\u015b\u0107 sztuk na p\xf3\u0142ce. | `42` |\n\n### 2. Kolekcja: `klienci`\n| Pole | Typ | Opis | Przyk\u0142ad |\n| :--- | :--- | :--- | :--- |\n| `login` | **String** | Unikalny identyfikator. | `"kromka_99"` |\n| `email` | **String** | Adres newslettera. | `"jan@cyber.pl"` |\n| `punkty_lojalnosciowe` | **Int** | Punkty za zakupy. | `250` |\n| `czy_vip` | **Boolean** | Status Cyber-VIP. | `false` |\n| `preferencje` | **Object** | Zagnie\u017cd\u017cone ustawienia. | `{ "ulubiony_typ": "bu\u0142ki" }` |\n\n### 3. Kolekcja: `zamowienia`\n| Pole | Typ | Opis | Przyk\u0142ad |\n| :--- | :--- | :--- | :--- |\n| `klient_id` | **ObjectId** | Referencja do klienci._id. | `ObjectId("507f1f...")` |\n| `produkty` | **Array** | Lista ID produkt\xf3w. | `[ObjectId("...")]` |\n| `data_zakupu` | **Date** | Czas transakcji. | `ISODate("2024-05-21")` |\n| `kwota_koncowa` | **Float** | Faktyczna suma zap\u0142acona. | `35.50` |\n'})}),"\n",(0,i.jsx)(n.h3,{id:"wygl\u0105d",children:"Wygl\u0105d"}),"\n",(0,i.jsxs)(n.h4,{id:"1-kolekcja-produkty",children:["1. Kolekcja: ",(0,i.jsx)(n.code,{children:"produkty"})]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Pole"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Typ"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Opis"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Przyk\u0142ad"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"nazwa"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:"String"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Unikalna nazwa produktu."}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:'"Chleb Kwantowy"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"cena"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:"Number"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Cena katalogowa."}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"12.99"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"skladniki"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:"Array"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Lista surowc\xf3w."}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:'["m\u0105ka \u017cytnia", "s\xf3l"]'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"czy_wege"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:"Boolean"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Czy produkt jest wega\u0144ski."}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"true"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"stan_magazynowy"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:"Int"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Ilo\u015b\u0107 sztuk na p\xf3\u0142ce."}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"42"})})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h4,{id:"2-kolekcja-klienci",children:["2. Kolekcja: ",(0,i.jsx)(n.code,{children:"klienci"})]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Pole"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Typ"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Opis"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Przyk\u0142ad"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"login"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:"String"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Unikalny identyfikator."}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:'"kromka_99"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"email"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:"String"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Adres newslettera."}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:'"jan@cyber.pl"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"punkty_lojalnosciowe"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:"Int"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Punkty za zakupy."}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"250"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"czy_vip"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:"Boolean"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Status Cyber-VIP."}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"false"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"preferencje"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:"Object"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Zagnie\u017cd\u017cone ustawienia."}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:'{ "ulubiony_typ": "bu\u0142ki" }'})})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h4,{id:"3-kolekcja-zamowienia",children:["3. Kolekcja: ",(0,i.jsx)(n.code,{children:"zamowienia"})]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Pole"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Typ"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Opis"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Przyk\u0142ad"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"klient_id"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:"ObjectId"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Referencja do klienci._id."}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:'ObjectId("507f1f...")'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"produkty"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:"Array"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Lista ID produkt\xf3w."}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:'[ObjectId("...")]'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"data_zakupu"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:"Date"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Czas transakcji."}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:'ISODate("2024-05-21")'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"kwota_koncowa"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.strong,{children:"Float"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Faktyczna suma zap\u0142acona."}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"35.50"})})]})]})]})]})}function j(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>r});var l=t(6540);const i={},s=l.createContext(i);function d(e){const n=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);