"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[2334],{6767:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>p,frontMatter:()=>d,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"ExpressJS/Express/RetroGamesDB/MetodaGET","title":"Metoda GET","description":"Czym jest metoda GET w ExpressJS?","source":"@site/docs/3. ExpressJS/50.Express/20.RetroGamesDB/50.MetodaGET.mdx","sourceDirName":"3. ExpressJS/50.Express/20.RetroGamesDB","slug":"/ExpressJS/Express/RetroGamesDB/MetodaGET","permalink":"/web/docs/ExpressJS/Express/RetroGamesDB/MetodaGET","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/3. ExpressJS/50.Express/20.RetroGamesDB/50.MetodaGET.mdx","tags":[],"version":"current","sidebarPosition":50,"frontMatter":{"title":"Metoda GET"},"sidebar":"tutorialSidebar","previous":{"title":"Dodajemy dane","permalink":"/web/docs/ExpressJS/Express/RetroGamesDB/DodajemyDane"},"next":{"title":"Metoda POST","permalink":"/web/docs/ExpressJS/Express/RetroGamesDB/MetodaPOST"}}');var a=r(4848),i=r(8453);const d={title:"Metoda GET"},t="Metoda GET",o={},l=[{value:"Czym jest metoda GET w ExpressJS?",id:"czym-jest-metoda-get-w-expressjs",level:2},{value:"Endpoint <code>/games</code> z metod\u0105 <code>GET</code>",id:"endpoint-games-z-metod\u0105-get",level:2},{value:"Pobieramy wszystkie gry",id:"pobieramy-wszystkie-gry",level:3},{value:"Pobieranie danych np. o jednej grze",id:"pobieranie-danych-np-o-jednej-grze",level:3},{value:"<code>route parameter</code> - parametr trasy",id:"route-parameter---parametr-trasy",level:3},{value:"Filtrowanie",id:"filtrowanie",level:3},{value:"<code>query parameter</code> - parametr zapytania",id:"query-parameter---parametr-zapytania",level:3},{value:"Przyk\u0142ad",id:"przyk\u0142ad",level:4},{value:"Jak odczyta\u0107?",id:"jak-odczyta\u0107",level:4},{value:"Wybierzemy gry na Atarii wydane przed rokiem 1984",id:"wybierzemy-gry-na-atarii-wydane-przed-rokiem-1984",level:4},{value:"R\xf3\u017cnica mi\u0119dzy rodzajami danych w Express",id:"r\xf3\u017cnica-mi\u0119dzy-rodzajami-danych-w-express",level:3}];function c(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"metoda-get",children:"Metoda GET"})}),"\n",(0,a.jsx)(n.h2,{id:"czym-jest-metoda-get-w-expressjs",children:"Czym jest metoda GET w ExpressJS?"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Metoda GET to spos\xf3b pobierania danych z serwera."}),"\n",(0,a.jsxs)(n.li,{children:["Gdy przegl\u0105darka (lub klient HTTP) wysy\u0142a \u017c\u0105danie GET, m\xf3wi do serwera:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u201eHej, poka\u017c mi te dane, ale niczego nie zmieniaj po swojej stronie."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.admonition,{title:"Metafora",type:"tip",children:[(0,a.jsx)(n.p,{children:"Wyobra\u017a sobie, \u017ce ExpressJS to restauracja:\ud83c\udf7d\ufe0f"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Klient przychodzi i pyta o menu:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"nie chce niczego zamawia\u0107, tylko zobaczy\u0107, co jest dost\u0119pne."}),"\n",(0,a.jsxs)(n.li,{children:["to jest ",(0,a.jsx)(n.code,{children:"GET"})]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Gdy klient sk\u0142ada zam\xf3wienie:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"czyli przesy\u0142a dane, np. imi\u0119, adres, zam\xf3wienie"}),"\n",(0,a.jsxs)(n.li,{children:["to jest ",(0,a.jsx)(n.code,{children:"POST"}),"."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Gdy usuwa rezerwacj\u0119 - to jest  ",(0,a.jsx)(n.code,{children:"DELETE"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Gdy aktualizuje zam\xf3wienie - to jest ",(0,a.jsx)(n.code,{children:"PUT"})," lub ",(0,a.jsx)(n.code,{children:"PATCH"}),"."]}),"\n"]})]}),"\n",(0,a.jsxs)(n.h2,{id:"endpoint-games-z-metod\u0105-get",children:["Endpoint ",(0,a.jsx)(n.code,{children:"/games"})," z metod\u0105 ",(0,a.jsx)(n.code,{children:"GET"})]}),"\n",(0,a.jsx)(n.h3,{id:"pobieramy-wszystkie-gry",children:"Pobieramy wszystkie gry"}),"\n",(0,a.jsxs)(n.p,{children:["Dopiszmy do naszego expressa endpoint ",(0,a.jsx)(n.code,{children:"/games"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'//...\napp.get("/", (req:Request, res:Response) => {\n    res.send("RetroGames APU. Use/games to see the games");\n})\n\napp.get("/games", (req: Request, res: Response) => {\n    res.json(games);\n});\n\napp.listen...\n'})}),"\n",(0,a.jsx)(n.p,{children:"Sformu\u0142ujmy i wy\u015blijmy zapytanie:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-http",metastring:"request",children:"### zapytanie o gry\nGET {{baseUrl}}/games\nAccept: application/json\n\n"})}),"\n",(0,a.jsx)(n.h3,{id:"pobieranie-danych-np-o-jednej-grze",children:"Pobieranie danych np. o jednej grze"}),"\n",(0,a.jsxs)(n.h3,{id:"route-parameter---parametr-trasy",children:[(0,a.jsx)(n.code,{children:"route parameter"})," - parametr trasy"]}),"\n",(0,a.jsxs)(n.admonition,{type:"info",children:[(0,a.jsx)(n.mdxAdmonitionTitle,{children:(0,a.jsx)(n.em,{children:"route parameter"})}),(0,a.jsx)(n.p,{children:"Parametr trasy to"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"nazwany segment URL,"}),"\n",(0,a.jsx)(n.li,{children:"pozwala na dynamiczne przechwytywanie warto\u015bci z adresu \u017c\u0105dania."}),"\n",(0,a.jsxs)(n.li,{children:["jest definiowany za pomoc\u0105 dwukropka ",(0,a.jsx)(n.code,{children:":"})," przed nazw\u0105 parametru w \u015bcie\u017cce trasy,"]}),"\n",(0,a.jsxs)(n.li,{children:["przechwycona warto\u015b\u0107 trafia do obiektu ",(0,a.jsx)(n.code,{children:"req.params"})," w funkcji obs\u0142ugi \u017c\u0105dania."]}),"\n"]})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'app.get("/games/:id", (req: Request, res: Response) => {\n    const game = games.find(g => g.id === Number(req.params.id));\n    if (!game) return res.status(404).json({ message: "Game not found" });\n    res.json(game);\n});\n'})}),"\n",(0,a.jsx)(n.p,{children:"i zapytanie:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-http",metastring:"request",children:"### pytamy o gr\u0119 z indeksem 3\nGET {{baseUrl}}/games/3\nAccept: application/json\n"})}),"\n",(0,a.jsxs)(n.admonition,{title:"Wa\u017cne",type:"danger",children:[(0,a.jsxs)(n.p,{children:["Express warto\u015b\u0107 zapisuje w ",(0,a.jsx)(n.code,{children:"req.params"})]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"dzi\u0119ki temu mo\u017cesz dynamicznie reagowa\u0107 na r\xf3\u017cne adresy,"}),"\n",(0,a.jsxs)(n.li,{children:["np. ",(0,a.jsx)(n.code,{children:"/games/1"})," (",(0,a.jsx)(n.code,{children:"id=1"}),"), ",(0,a.jsx)(n.code,{children:"/games/2"})," (",(0,a.jsx)(n.code,{children:"id=2"}),"), itd."]}),"\n"]})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:(0,a.jsxs)(n.strong,{children:["Dodatkowe przyk\u0142ady dla ",(0,a.jsx)(n.code,{children:"route parameter"})]})})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'app.get("/house/:name",(req: Request, res: Response) => {\n    console.log(`req.params.name: ${req.params.name}`)\n    res.send(req.params)\n})\n\napp.get("/house/:name/room/:number",(req: Request, res: Response) => {\n   const {name, number} = req.params;\n   console.log(`req.params: ${name}, ${number}`)\n   res.send(req.params)\n})\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-http",metastring:"request",children:"### test route param\nGET {{baseUrl}}/house/mojDomek\nAccept: application/json\n\n### test route param\nGET {{baseUrl}}/house/mojDomek/room/33\nAccept: application/json\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"filtrowanie",children:"Filtrowanie"}),"\n",(0,a.jsxs)(n.h3,{id:"query-parameter---parametr-zapytania",children:[(0,a.jsx)(n.code,{children:"query parameter"})," - parametr zapytania"]}),"\n",(0,a.jsxs)(n.admonition,{type:"info",children:[(0,a.jsxs)(n.mdxAdmonitionTitle,{children:["Co to s\u0105 parametry zapytania (",(0,a.jsx)(n.code,{children:"query parameters"}),")"]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["To dodatkowe informacje przekazywane w adresie URL po znaku ",(0,a.jsx)(n.code,{children:"?"}),","]}),"\n",(0,a.jsxs)(n.li,{children:["S\u0142u\u017c\u0105 np. do","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"filtrowania,"}),"\n",(0,a.jsx)(n.li,{children:"wyszukiwania,"}),"\n",(0,a.jsx)(n.li,{children:"sortowania"}),"\n",(0,a.jsx)(n.li,{children:"..."}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,a.jsx)(n.h4,{id:"przyk\u0142ad",children:"Przyk\u0142ad"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"GET /games?year=1984&platform=Atari"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"? \u2013 zaczyna cz\u0119\u015b\u0107 parametr\xf3w zapytania\nyear=1984 \u2013 pierwszy parametr (klucz = warto\u015b\u0107)\n& \u2013 \u0142\u0105czy kolejne parametry\nplatform=Atari \u2013 drugi parametr\n"})}),"\n",(0,a.jsx)(n.h4,{id:"jak-odczyta\u0107",children:"Jak odczyta\u0107?"}),"\n",(0,a.jsx)(n.admonition,{title:"Wa\u017cne",type:"danger",children:(0,a.jsxs)(n.p,{children:["Express automatycznie umieszcza parametry zapytania w obiekcie\n\ud83d\udc49 ",(0,a.jsx)(n.code,{children:"req.query"})]})}),"\n",(0,a.jsx)(n.h4,{id:"wybierzemy-gry-na-atarii-wydane-przed-rokiem-1984",children:"Wybierzemy gry na Atarii wydane przed rokiem 1984"}),"\n",(0,a.jsxs)(n.admonition,{type:"tip",children:[(0,a.jsxs)(n.mdxAdmonitionTitle,{children:["Typ danych w ",(0,a.jsx)(n.code,{children:"req.query.platform"})]}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"string"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"string[]"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"undefined"})}),"\n"]}),(0,a.jsxs)(n.p,{children:["Mo\u017cemy zagwarantowa\u0107, \u017ce nasz ",(0,a.jsx)(n.code,{children:"platform"})," to ",(0,a.jsx)(n.code,{children:"string"})," przez\n",(0,a.jsx)(n.code,{children:"typeof platform === 'string'"})]})]}),"\n",(0,a.jsxs)(n.p,{children:["Do istniej\u0105cej  ",(0,a.jsx)(n.code,{children:"app.get('/games' ..."})," dodajemy:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'app.get("/games", (req: Request, res: Response) => {\n    const { year, platform } = req.query;\n\n    // zwraca wszystkie gry\n    if(!year && !platform) return res.json(games)\n\n   const filteredGames = games.filter(g => {\n        if (year && g.year > Number(year))  return false\n\n         const filteredGames = games.filter(g => {\n        if (year && g.year > Number(year))  return false\n\n        if(platform){\n            if (typeof platform === "string"){\n                const queryPlatform = platform.toLowerCase();\n                const gamePlatform = g.platform.toLowerCase();\n                if(!gamePlatform.includes(queryPlatform)) return false;\n            }\n        }\n        return true\n    });\n        return true\n    });\n    res.json(filteredGames);\n})\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-http",metastring:"request",children:"### filtrujemy gry po roku i platformie\nGET {{baseUrl}}/games/?year=1984&platform=Atari\nAccept: application/json\n\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"r\xf3\u017cnica-mi\u0119dzy-rodzajami-danych-w-express",children:"R\xf3\u017cnica mi\u0119dzy rodzajami danych w Express"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Typ danych"}),(0,a.jsx)(n.th,{children:"Gdzie wyst\u0119puje"}),(0,a.jsx)(n.th,{children:"Przyk\u0142ad URL / dane"}),(0,a.jsx)(n.th,{children:"Jak pobra\u0107 w Express"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Route param"})}),(0,a.jsx)(n.td,{children:"W \u015bcie\u017cce adresu (URL)"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"/games/5"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"req.params.id"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Query param"})}),(0,a.jsxs)(n.td,{children:["Po znaku ",(0,a.jsx)(n.code,{children:"?"})," w adresie"]}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"/games?year=1984&platform=Atari"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"req.query.year"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:"Body param"})}),(0,a.jsx)(n.td,{children:"W tre\u015bci \u017c\u0105dania (np. POST)"}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'{ "title": "Pong" }'})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"req.body.title"})})]})]})]}),"\n",(0,a.jsxs)(n.admonition,{type:"tip",children:[(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Opis:"})}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"Route param"})," \u2014 u\u017cywany do pobierania konkretnego zasobu (np. gry o danym ",(0,a.jsx)(n.code,{children:"id"}),")."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"Query param"})," \u2014 s\u0142u\u017cy do filtrowania lub wyszukiwania danych."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.em,{children:"Body param"})," \u2014 wykorzystywany przy przesy\u0142aniu danych do serwera (np. przy ",(0,a.jsx)(n.code,{children:"POST"})," lub ",(0,a.jsx)(n.code,{children:"PUT"}),")."]}),"\n"]})]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>t});var s=r(6540);const a={},i=s.createContext(a);function d(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);