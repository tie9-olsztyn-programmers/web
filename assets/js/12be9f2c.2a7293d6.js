"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[2121],{6538:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>j,frontMatter:()=>t,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"ExpressJS/Socket","title":"Sockets i modu\u0142 `net`","description":"Definicje","source":"@site/docs/3. ExpressJS/15.Socket.mdx","sourceDirName":"3. ExpressJS","slug":"/ExpressJS/Socket","permalink":"/web/docs/ExpressJS/Socket","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/3. ExpressJS/15.Socket.mdx","tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"title":"Sockets i modu\u0142 `net`"},"sidebar":"tutorialSidebar","previous":{"title":"Modu\u0142 `events`","permalink":"/web/docs/ExpressJS/ModulEvents"},"next":{"title":"Socket prosta aplikacja","permalink":"/web/docs/ExpressJS/SocketPierwszaAplikacja"}}');var s=i(4848),r=i(8453);const t={title:"Sockets i modu\u0142 `net`"},d="Sockets i modu\u0142e net - teoria",c={},l=[{value:"Definicje",id:"definicje",level:2},{value:"Socket",id:"socket",level:3},{value:"Modu\u0142 <code>net</code>",id:"modu\u0142-net",level:3},{value:"Protoku\u0142 TCP",id:"protoku\u0142-tcp",level:3},{value:"Port",id:"port",level:3},{value:"Jak dzia\u0142a socket (\u0142opatologicznie)",id:"jak-dzia\u0142a-socket-\u0142opatologicznie",level:2}];function a(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsxs)(n.h1,{id:"sockets-i-modu\u0142e-net---teoria",children:["Sockets i modu\u0142e ",(0,s.jsx)(n.code,{children:"net"})," - teoria"]})}),"\n",(0,s.jsx)(n.h2,{id:"definicje",children:"Definicje"}),"\n",(0,s.jsx)(n.h3,{id:"socket",children:"Socket"}),"\n",(0,s.jsx)(n.admonition,{title:"Socket",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"to kana\u0142 komunikacyjny pomi\u0119dzy dwoma komputerami lub programami."}),"\n",(0,s.jsx)(n.li,{children:"Umo\u017cliwia wysy\u0142anie i odbieranie danych w czasie rzeczywistym."}),"\n"]})}),"\n",(0,s.jsxs)(n.h3,{id:"modu\u0142-net",children:["Modu\u0142 ",(0,s.jsx)(n.code,{children:"net"})]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsxs)(n.mdxAdmonitionTitle,{children:["Modu\u0142 ",(0,s.jsx)(n.code,{children:"net"})]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"to wbudowany modu\u0142 Node.js, kt\xf3ry s\u0142u\u017cy do tworzenia socket\xf3w TCP (po\u0142\u0105czenia sieciowe mi\u0119dzy komputerami)."}),"\n",(0,s.jsxs)(n.li,{children:["Umo\u017cliwia:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["tworzenie serwer\xf3w (",(0,s.jsx)(n.code,{children:"net.createServer()"}),"), kt\xf3re nas\u0142uchuj\u0105 na okre\u015blonym porcie,"]}),"\n",(0,s.jsxs)(n.li,{children:["tworzenie klient\xf3w (",(0,s.jsx)(n.code,{children:"net.createConnection()"}),"), kt\xf3rzy \u0142\u0105cz\u0105 si\u0119 z serwerem,"]}),"\n",(0,s.jsx)(n.li,{children:"wysy\u0142anie i odbieranie danych w trybie dwukierunkowym i strumieniowym."}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,s.jsx)(n.h3,{id:"protoku\u0142-tcp",children:"Protoku\u0142 TCP"}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsxs)(n.mdxAdmonitionTitle,{children:["TCP (",(0,s.jsx)(n.em,{children:"Transmission Control Protocol"}),")"]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"To protok\xf3\u0142 komunikacyjny, kt\xf3ry okre\u015bla, jak dwa komputery przesy\u0142aj\u0105 dane przez sie\u0107 w spos\xf3b niezawodny i uporz\u0105dkowany."}),"\n",(0,s.jsxs)(n.li,{children:["Dzia\u0142a on w warstwie transportowej modelu sieciowego (OSI), nad IP (Internet Protocol).","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Dlatego cz\u0119sto spotkasz nazw\u0119: TCP/IP \u2013 czyli dwa protoko\u0142y, kt\xf3re razem tworz\u0105 podstaw\u0119 Internetu."}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.p,{children:"Gwarantuje, \u017ce:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Wszystkie dane dotr\u0105 (je\u015bli pakiet zginie, zostanie wys\u0142any ponownie)."}),"\n",(0,s.jsx)(n.li,{children:"Dane dotr\u0105 w odpowiedniej kolejno\u015bci (nawet je\u015bli po drodze trafi\u0142y r\xf3\u017cnymi \u015bcie\u017ckami)."}),"\n",(0,s.jsx)(n.li,{children:"Nie zgubisz cz\u0119\u015bci danych (odbiorca dostaje dok\u0142adnie to, co wys\u0142a\u0142 nadawca)."}),"\n",(0,s.jsx)(n.li,{children:"Po\u0142\u0105czenie jest dwukierunkowe (obie strony mog\u0105 jednocze\u015bnie wysy\u0142a\u0107 i odbiera\u0107 dane)."}),"\n"]}),(0,s.jsxs)(n.admonition,{title:"metafora",type:"note",children:[(0,s.jsx)(n.p,{children:"Wyobra\u017a sobie TCP jak rozmow\u0119 przez telefon:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"najpierw trzeba si\u0119 po\u0142\u0105czy\u0107 (\u201ehalo?\u201d \u2013 \u201ehalo, s\u0142ysz\u0119 ci\u0119\u201d),"}),"\n",(0,s.jsx)(n.li,{children:"rozmowa trwa, dop\xf3ki jedna strona nie od\u0142o\u017cy s\u0142uchawki,"}),"\n",(0,s.jsx)(n.li,{children:"ka\u017cda strona s\u0142yszy dok\u0142adnie to, co druga powiedzia\u0142a \u2014 bez zgubionych s\u0142\xf3w."}),"\n"]})]})]}),"\n",(0,s.jsx)(n.p,{children:":::"}),"\n",(0,s.jsx)(n.p,{children:"TCP a sockety:\nKa\u017cde po\u0142\u0105czenie TCP opiera si\u0119 na gniazdach (socketach):"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"serwer nas\u0142uchuje na jakim\u015b porcie (np. 4000),"}),"\n",(0,s.jsx)(n.li,{children:"klient \u0142\u0105czy si\u0119 z tym portem,"}),"\n",(0,s.jsx)(n.li,{children:"po\u0142\u0105czenie TCP zapewnia stabilny kana\u0142 komunikacji."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"port",children:"Port"}),"\n",(0,s.jsx)(n.admonition,{title:"Co to jest port?",type:"note",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Port to numer identyfikuj\u0105cy konkretn\u0105 us\u0142ug\u0119 lub aplikacj\u0119 dzia\u0142aj\u0105c\u0105 na komputerze w sieci."}),"\n",(0,s.jsxs)(n.li,{children:["Mo\u017cesz my\u015ble\u0107 o nim jak o drzwiach do konkretnego programu.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ka\u017cdy komputer w sieci ma adres IP (adres budynku),"}),"\n",(0,s.jsx)(n.li,{children:"a port to numer drzwi, przez kt\xf3re dany program przyjmuje po\u0142\u0105czenia."}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Metafora"}),"\nWyobra\u017a sobie biurowiec (komputer):"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["adres IP to adres budynku (np. ",(0,s.jsx)(n.code,{children:"192.168.1.10"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["*",(0,s.jsx)(n.em,{children:"port"})," to numer pokoju (np. pok\xf3j ",(0,s.jsx)(n.code,{children:"4000"}),"), w kt\xf3rym siedzi okre\u015blony dzia\u0142."]}),"\n",(0,s.jsxs)(n.li,{children:["Je\u015bli chcesz dostarczy\u0107 wiadomo\u015b\u0107:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"do ksi\u0119gowo\u015bci                            to port 21 (FTP),"}),"\n",(0,s.jsx)(n.li,{children:"do sekretariatu                           to port 80 (HTTP),"}),"\n",(0,s.jsx)(n.li,{children:"do dzia\u0142u IT                              to port 22 (SSH),"}),"\n",(0,s.jsx)(n.li,{children:"do twojego w\u0142asnego serwera socketowego   to np. port 4000."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"jak-dzia\u0142a-socket-\u0142opatologicznie",children:"Jak dzia\u0142a socket (\u0142opatologicznie)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Serwer otwiera port \u2013 czyli m\xf3wi:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u201eJestem dost\u0119pny na numerze 4000, mo\u017cesz si\u0119 po\u0142\u0105czy\u0107\u201d"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Klient dzwoni pod ten numer (",(0,s.jsx)(n.code,{children:"port"}),")."]}),"\n",(0,s.jsx)(n.li,{children:"Gdy serwer odbierze, powstaje po\u0142\u0105czenie socketowe."}),"\n",(0,s.jsxs)(n.li,{children:["Od teraz obie strony mog\u0105:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["pisa\u0107 do siebie (",(0,s.jsx)(n.code,{children:"socket.write()"}),"),"]}),"\n",(0,s.jsxs)(n.li,{children:["czyta\u0107 dane, kt\xf3re przychodz\u0105 (",(0,s.jsx)(n.code,{children:"socket.on('data')"}),")."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Po sko\u0144czeniu rozmowy \u2013 socket si\u0119 zamyka (",(0,s.jsx)(n.code,{children:"socket.end()"}),")."]}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{title:"Metafora Socket jak rozmowa telefoniczna",type:"tip",children:[(0,s.jsx)(n.p,{children:"Wyobra\u017a sobie:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EventEmitter"})," to jak dzwonek telefonu \u2014 kto\u015b sygnalizuje, \u017ce co\u015b si\u0119 sta\u0142o."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Socket"})," to rozmowa telefoniczna:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"obie strony s\u0142ysz\u0105 si\u0119 nawzajem,"}),"\n",(0,s.jsx)(n.li,{children:"mog\u0105 m\xf3wi\u0107 w tym samym czasie (dwukierunkowo),"}),"\n",(0,s.jsx)(n.li,{children:"dop\xf3ki nie od\u0142o\u017cysz s\u0142uchawki (end), po\u0142\u0105czenie trwa."}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.p,{children:"P\xf3\u017aniejsze HTTP to bardziej \u201elist\u201d:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["kto\u015b wysy\u0142a zapytanie (",(0,s.jsx)(n.code,{children:"request"}),"),"]}),"\n",(0,s.jsxs)(n.li,{children:["druga strona odpisuje (",(0,s.jsx)(n.code,{children:"response"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"i koniec kontaktu."}),"\n"]})]}),"\n",(0,s.jsx)(n.h1,{id:""})]})}function j(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>d});var o=i(6540);const s={},r=o.createContext(s);function t(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);