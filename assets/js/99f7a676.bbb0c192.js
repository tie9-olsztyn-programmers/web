"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[2538],{5530:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"MongoDB/PracaZMongosh","title":"Mongosh","description":"Pierwsze kroki","source":"@site/docs/4. MongoDB/10.PracaZMongosh.mdx","sourceDirName":"4. MongoDB","slug":"/MongoDB/PracaZMongosh","permalink":"/web/docs/MongoDB/PracaZMongosh","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/4. MongoDB/10.PracaZMongosh.mdx","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"title":"Mongosh"},"sidebar":"tutorialSidebar","previous":{"title":"MongoDB - wprowadzenie","permalink":"/web/docs/MongoDB/Wprowadzenie"},"next":{"title":"Wprowadzenie do MERN","permalink":"/web/docs/MERN - Fullstack/Intro MERN"}}');var r=d(4848),s=d(8453);const c={title:"Mongosh"},l="Mongosh",o={},t=[{value:"Pierwsze kroki",id:"pierwsze-kroki",level:2},{value:"Tworzenie kolekcji i dokument\xf3w",id:"tworzenie-kolekcji-i-dokument\xf3w",level:2},{value:"Jawne utworzenie kolekcji",id:"jawne-utworzenie-kolekcji",level:3},{value:"Automatyczne tworzenie kolekcji podczas dodawania dokumentu",id:"automatyczne-tworzenie-kolekcji-podczas-dodawania-dokumentu",level:3},{value:"Wy\u015bwietlanie kolekcji w danej bazie",id:"wy\u015bwietlanie-kolekcji-w-danej-bazie",level:3},{value:"Dodawanie wielu dokument\xf3w naraz",id:"dodawanie-wielu-dokument\xf3w-naraz",level:3},{value:"Pobieranie danych (READ)",id:"pobieranie-danych-read",level:3},{value:"Pobieranie wszystkich dokument\xf3w",id:"pobieranie-wszystkich-dokument\xf3w",level:4},{value:"Pobranie jednego dokumentu",id:"pobranie-jednego-dokumentu",level:3},{value:"Warunki wyszukiwania",id:"warunki-wyszukiwania",level:3},{value:"Operatory",id:"operatory",level:3},{value:"Operatory por\xf3wnania (<em>Comparison Operators</em>)",id:"operatory-por\xf3wnania-comparison-operators",level:4},{value:"Operatory logiczne (<em>Logical Operators</em>)",id:"operatory-logiczne-logical-operators",level:4},{value:"Operatory aktualizacji (<em>Update Operator</em>)",id:"operatory-aktualizacji-update-operator",level:4},{value:"Projekcja i filtrowanie zwracanych p\xf3l",id:"projekcja-i-filtrowanie-zwracanych-p\xf3l",level:3},{value:"Zliczanie dokument\xf3w",id:"zliczanie-dokument\xf3w",level:3}];function a(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"mongosh",children:"Mongosh"})}),"\n",(0,r.jsx)(n.h2,{id:"pierwsze-kroki",children:"Pierwsze kroki"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Komenda"}),(0,r.jsx)(n.th,{children:"Opis"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"show dbs"})}),(0,r.jsx)(n.td,{children:"Wy\u015bwietla wszystkie istniej\u0105ce bazy danych"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"db"})}),(0,r.jsx)(n.td,{children:"Pokazuje, w jakiej bazie danych aktualnie pracujesz"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"use mojaBaza"})}),(0,r.jsx)(n.td,{children:"Prze\u0142\u0105cza si\u0119 do wybranej bazy lub tworzy j\u0105, je\u015bli nie istnieje"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"db.dropDatabase()"})}),(0,r.jsxs)(n.td,{children:["Usuwa ",(0,r.jsx)(n.strong,{children:"aktualnie wybran\u0105"})," baz\u0119 danych"]})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"show dbs\ndb\nuse shopDB\ndb.dropDatabase()\n"})}),"\n",(0,r.jsx)(n.h2,{id:"tworzenie-kolekcji-i-dokument\xf3w",children:"Tworzenie kolekcji i dokument\xf3w"}),"\n",(0,r.jsx)(n.p,{children:"\ud83d\udfe6"}),"\n",(0,r.jsx)(n.h3,{id:"jawne-utworzenie-kolekcji",children:"Jawne utworzenie kolekcji"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:'db.createCollection("shop")'})}),"\n",(0,r.jsx)(n.h3,{id:"automatyczne-tworzenie-kolekcji-podczas-dodawania-dokumentu",children:"Automatyczne tworzenie kolekcji podczas dodawania dokumentu"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:'db.users.insertOne({ name: "Jurek", age: 20 })'})}),"\n",(0,r.jsx)(n.h3,{id:"wy\u015bwietlanie-kolekcji-w-danej-bazie",children:"Wy\u015bwietlanie kolekcji w danej bazie"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"show collections"})}),"\n",(0,r.jsx)(n.h3,{id:"dodawanie-wielu-dokument\xf3w-naraz",children:"Dodawanie wielu dokument\xf3w naraz"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'db.users.insertMany([\n{ name: "Joe", age: 11 },\n{ name: "Zosia", age: 22 },\n{ name: "x23", age: 214 }\n])\n'})}),"\n",(0,r.jsx)(n.h3,{id:"pobieranie-danych-read",children:"Pobieranie danych (READ)"}),"\n",(0,r.jsx)(n.h4,{id:"pobieranie-wszystkich-dokument\xf3w",children:"Pobieranie wszystkich dokument\xf3w"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"db.users.find()"})}),"\n",(0,r.jsx)(n.h3,{id:"pobranie-jednego-dokumentu",children:"Pobranie jednego dokumentu"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:'db.users.findOne({ name: "Jurek" })'})}),"\n",(0,r.jsx)(n.h3,{id:"warunki-wyszukiwania",children:"Warunki wyszukiwania"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"db.users.find({ age: { $gt: 20 }})           // wiek > 20"}),"\n",(0,r.jsx)(n.code,{children:"db.users.find({ age: { $gt: 10, $lt: 30 }})  // 10 < wiek < 30"})]}),"\n",(0,r.jsx)(n.h3,{id:"operatory",children:"Operatory"}),"\n",(0,r.jsxs)(n.h4,{id:"operatory-por\xf3wnania-comparison-operators",children:["Operatory por\xf3wnania (",(0,r.jsx)(n.em,{children:"Comparison Operators"}),")"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Operator"}),(0,r.jsx)(n.th,{children:"Znaczenie / Opis"}),(0,r.jsx)(n.th,{children:"Przyk\u0142ad u\u017cycia"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$eq"})}),(0,r.jsx)(n.td,{children:"r\xf3wne"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{ age: { $eq: 18 }}"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$ne"})}),(0,r.jsx)(n.td,{children:"nie r\xf3wne"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{ age: { $ne: 18 }}"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$gt"})}),(0,r.jsx)(n.td,{children:"wi\u0119ksze ni\u017c"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{ age: { $gt: 18 }}"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$gte"})}),(0,r.jsx)(n.td,{children:"wi\u0119ksze lub r\xf3wne"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{ age: { $gte: 18 }}"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$lt"})}),(0,r.jsx)(n.td,{children:"mniejsze ni\u017c"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{ age: { $lt: 18 }}"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$lte"})}),(0,r.jsx)(n.td,{children:"mniejsze lub r\xf3wne"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{ age: { $lte: 18 }}"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$in"})}),(0,r.jsx)(n.td,{children:"warto\u015b\u0107 z listy"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{ platform: { $in: ["PC","Xbox"] }}'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$nin"})}),(0,r.jsx)(n.td,{children:"warto\u015b\u0107 nie znajduje si\u0119 w li\u015bcie"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{ platform: { $nin: ["PC","Xbox"] }}'})})]})]})]}),"\n",(0,r.jsxs)(n.h4,{id:"operatory-logiczne-logical-operators",children:["Operatory logiczne (",(0,r.jsx)(n.em,{children:"Logical Operators"}),")"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Operator"}),(0,r.jsx)(n.th,{children:"Znaczenie / Opis"}),(0,r.jsx)(n.th,{children:"Przyk\u0142ad u\u017cycia"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$and"})}),(0,r.jsx)(n.td,{children:"oba warunki musz\u0105 by\u0107 spe\u0142nione"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{ $and: [ {age: {$gt: 18}}, {city: "Olsztyn"} ] }'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$or"})}),(0,r.jsx)(n.td,{children:"co najmniej jeden warunek musi by\u0107 spe\u0142niony"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{ $or: [ {age: {$lt: 10}}, {age: {$gt: 60}} ] }"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$nor"})}),(0,r.jsx)(n.td,{children:"\u017caden z warunk\xf3w nie mo\u017ce by\u0107 spe\u0142niony"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{ $nor: [ {city: "Olsztyn"}, {city: "Warszawa"} ] }'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$not"})}),(0,r.jsx)(n.td,{children:"negacja warunku"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{ age: { $not: { $gt: 30 } } }"})})]})]})]}),"\n",(0,r.jsxs)(n.h4,{id:"operatory-aktualizacji-update-operator",children:["Operatory aktualizacji (",(0,r.jsx)(n.em,{children:"Update Operator"}),")"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Operator"}),(0,r.jsx)(n.th,{children:"Znaczenie / Opis"}),(0,r.jsx)(n.th,{children:"Przyk\u0142ad u\u017cycia"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$set"})}),(0,r.jsx)(n.td,{children:"ustawia lub nadpisuje warto\u015b\u0107 pola"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'db.users.updateOne({name:"Joe"}, { $set: {age: 25} })'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$inc"})}),(0,r.jsx)(n.td,{children:"zwi\u0119ksza lub zmniejsza warto\u015b\u0107 liczbow\u0105 pola"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"db.users.updateMany({}, { $inc: {age: 1} })"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$unset"})}),(0,r.jsx)(n.td,{children:"usuwa pole z dokumentu"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'db.users.updateOne({_id: id}, { $unset: {city: ""} })'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$rename"})}),(0,r.jsx)(n.td,{children:"zmienia nazw\u0119 pola"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'db.users.updateMany({}, { $rename: {"age": "wiek"} })'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$push"})}),(0,r.jsx)(n.td,{children:"dodaje element do tablicy"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'db.users.updateOne({name:"Joe"}, { $push: {hobbies: "gaming"} })'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$pull"})}),(0,r.jsx)(n.td,{children:"usuwa element z tablicy (je\u015bli spe\u0142nia warunek)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'db.users.updateOne({name:"Joe"}, { $pull: {hobbies: "gaming"} })'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$pop"})}),(0,r.jsxs)(n.td,{children:["usuwa ostatni (",(0,r.jsx)(n.code,{children:"1"}),") lub pierwszy (",(0,r.jsx)(n.code,{children:"-1"}),") element tablicy"]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'db.users.updateOne({name:"Joe"}, { $pop: {hobbies: 1} })'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$addToSet"})}),(0,r.jsxs)(n.td,{children:["dodaje element do tablicy ",(0,r.jsx)(n.strong,{children:"tylko je\u015bli go nie ma"})]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'db.users.updateOne({name:"Joe"}, { $addToSet: {hobbies: "coding"} })'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$mul"})}),(0,r.jsx)(n.td,{children:"mno\u017cy warto\u015b\u0107 liczbow\u0105 pola"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"db.products.updateOne({_id: id}, { $mul: {price: 1.1} })"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$min"})}),(0,r.jsx)(n.td,{children:"ustawia warto\u015b\u0107 pola, je\u015bli jest mniejsza"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"db.stats.updateOne({_id: id}, { $min: {highscore: 300} })"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$max"})}),(0,r.jsx)(n.td,{children:"ustawia warto\u015b\u0107 pola, je\u015bli jest wi\u0119ksza"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"db.stats.updateOne({_id: id}, { $max: {highscore: 300} })"})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"projekcja-i-filtrowanie-zwracanych-p\xf3l",children:"Projekcja i filtrowanie zwracanych p\xf3l"}),"\n",(0,r.jsxs)(n.p,{children:["Funkcja: ",(0,r.jsx)(n.code,{children:"db.collection.find(<filter>, <projection>)"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"filter okre\u015bla, kt\xf3re dokumenty pobra\u0107\n\ud83d\udfe6  - projection  okre\u015bla, kt\xf3re pola zwr\xf3ci\u0107\nPrzyk\u0142ad:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"db.users.find(\n    { age: { $gt: 18 }},        // filter\n    { name: 1, age: 1, _id: 0 } // projection\n)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"zliczanie-dokument\xf3w",children:"Zliczanie dokument\xf3w"}),"\n",(0,r.jsxs)(n.p,{children:["Policzenie wszystkich:\n",(0,r.jsx)(n.code,{children:"db.users.countDocuments()"})]}),"\n",(0,r.jsxs)(n.p,{children:["Policzenie z filtrem:\n",(0,r.jsx)(n.code,{children:"db.users.countDocuments({ age: { $gt: 18 } })"})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,d)=>{d.d(n,{R:()=>c,x:()=>l});var i=d(6540);const r={},s=i.createContext(r);function c(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);