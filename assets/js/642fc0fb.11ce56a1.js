"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[1848],{1334:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"MERN - Fullstack/Pod\u0142\u0105czenie do MongoDB","title":"Po\u0142\u0105czenie MongoDB-ExpressTS","description":"Aby pod\u0142\u0105czy\u0107 MongoDB z Express, u\u017cyjemy biblioteki mongoose.","source":"@site/docs/5. MERN - Fullstack/2. Pod\u0142\u0105czenie do MongoDB.mdx","sourceDirName":"5. MERN - Fullstack","slug":"/MERN - Fullstack/Pod\u0142\u0105czenie do MongoDB","permalink":"/web/docs/MERN - Fullstack/Pod\u0142\u0105czenie do MongoDB","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/5. MERN - Fullstack/2. Pod\u0142\u0105czenie do MongoDB.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Po\u0142\u0105czenie MongoDB-ExpressTS"},"sidebar":"tutorialSidebar","previous":{"title":"Od ExpressJS do ExpressTS","permalink":"/web/docs/MERN - Fullstack/Od ExpressJS do ExpressTS"},"next":{"title":"Praca z mongoose - apka Task","permalink":"/web/docs/MERN - Fullstack/Praca z mongoose"}}');var c=o(4848),t=o(8453);const i={title:"Po\u0142\u0105czenie MongoDB-ExpressTS"},a="Jak pod\u0142\u0105czy\u0107 MongoDB do Express?",r={},d=[{value:"Instalacja biblioteki <code>mongoose</code> i jej typ\xf3w",id:"instalacja-biblioteki-mongoose-i-jej-typ\xf3w",level:2},{value:"Konfiguracja po\u0142\u0105czenia <code>src/database.ts</code>",id:"konfiguracja-po\u0142\u0105czenia-srcdatabasets",level:2},{value:"Zmiany w pliku <code>app.ts</code>",id:"zmiany-w-pliku-appts",level:2}];function l(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"jak-pod\u0142\u0105czy\u0107-mongodb-do-express",children:"Jak pod\u0142\u0105czy\u0107 MongoDB do Express?"})}),"\n",(0,c.jsxs)(n.p,{children:["Aby pod\u0142\u0105czy\u0107 ",(0,c.jsx)(n.em,{children:"MongoDB"})," z ",(0,c.jsx)(n.em,{children:"Express"}),", u\u017cyjemy biblioteki ",(0,c.jsx)(n.code,{children:"mongoose"}),"."]}),"\n",(0,c.jsx)(n.admonition,{title:"Mongoose",type:"tip",children:(0,c.jsxs)(n.p,{children:["Mongoose to ODM (",(0,c.jsx)(n.em,{children:"Object-Document Mapping"}),"), czyli spos\xf3b na \u0142atwiejsze zarz\u0105dzanie danymi w MongoDB."]})}),"\n",(0,c.jsxs)(n.h2,{id:"instalacja-biblioteki-mongoose-i-jej-typ\xf3w",children:["Instalacja biblioteki ",(0,c.jsx)(n.code,{children:"mongoose"})," i jej typ\xf3w"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"npm install mongoose"}),"\n",(0,c.jsx)(n.code,{children:"npm install @types/mongoose --save-dev"})]}),"\n",(0,c.jsxs)(n.h2,{id:"konfiguracja-po\u0142\u0105czenia-srcdatabasets",children:["Konfiguracja po\u0142\u0105czenia ",(0,c.jsx)(n.code,{children:"src/database.ts"})]}),"\n",(0,c.jsxs)(n.p,{children:["Utw\xf3rz plik w ",(0,c.jsx)(n.code,{children:"src/database.ts"})]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:'import mongoose from "mongoose";\nimport dotenv from "dotenv";\n\ndotenv.config(); // wczytujemy dane z .env\n\nconst MONGODB_URI = process.env.MONGO_URI as string; // pobieramy adres do bazy i rzutujemy go na string\nconsole.log(MONGODB_URI);\n\nconst connectDB = async (): Promise<void> =>{\n    try{\n        await mongoose.connect(MONGODB_URI);\n        console.log("Po\u0142\u0105czono z MongoDB")\n    }catch(err: unknown){\n        if(err instanceof Error) {\n            console.error("B\u0142\u0105d po\u0142\u0105czenia z MongoDB ", err)\n\n        }else{\n            console.error("nieznany b\u0142\u0105d ", err)\n        }\n        process.exit(1);\n    }\n}\n\nexport default connectDB ;\n\n'})}),"\n",(0,c.jsxs)(n.h2,{id:"zmiany-w-pliku-appts",children:["Zmiany w pliku ",(0,c.jsx)(n.code,{children:"app.ts"})]}),"\n",(0,c.jsx)(n.p,{children:"na pocz\u0105tku tego pliku dodajemy"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-typescript",children:'import connectDB from "./database";\n\n//connect jest funkcj\u0105 asynchroniczn\u0105\n// wi\u0119c uruchomimy j\u0105 z obs\u0142ug\u0105 obietnicy, kt\xf3r\u0105 zwraca\n(async () =>{\n  try{\n    await connectDB()\n    console.log("Connected to DB...")\n  }catch(e: unknown){\n    if(e instanceof Error) {\n      console.error(`b\u0142\u0105d po\u0142\u0105czenie z MongoDB ${e}`)\n\n    }else{\n      console.log(`nie znany b\u0142\u0105d po\u0142\u0105czenia `, e)\n    }\n    process.exit(1)\n  }\n})()\n\n\n// Za\u0142aduj zmienne \u015brodowiskowe z .env\n...\n\n\n'})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(l,{...e})}):l(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>a});var s=o(6540);const c={},t=s.createContext(c);function i(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);