"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[5482],{5587:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>d,metadata:()=>s,toc:()=>r});const s=JSON.parse('{"id":"Node/Modu\u0142y/Modul_FS","title":"Modu\u0142 fs - File System","description":"Definicja","source":"@site/docs/2. Node/3.Modu\u0142y/10.Modul_FS.mdx","sourceDirName":"2. Node/3.Modu\u0142y","slug":"/Node/Modu\u0142y/Modul_FS","permalink":"/web/docs/Node/Modu\u0142y/Modul_FS","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/2. Node/3.Modu\u0142y/10.Modul_FS.mdx","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"title":"Modu\u0142 fs - File System"},"sidebar":"tutorialSidebar","previous":{"title":"Aplikacja sklepik z JSON","permalink":"/web/docs/Node/Modu\u0142y/AplikacjaSklepikZJSON"},"next":{"title":"Wprowadzenie do MERN","permalink":"/web/docs/MERN - Fullstack/Intro MERN"}}');var o=i(4848),l=i(8453);const d={title:"Modu\u0142 fs - File System"},a="Modu\u0142 fs",c={},r=[{value:"Definicja",id:"definicja",level:2},{value:"Przygotowanie projektu",id:"przygotowanie-projektu",level:2},{value:"Odczyt i zapis (nadpisywanie) do pliku",id:"odczyt-i-zapis-nadpisywanie-do-pliku",level:2},{value:"Dzia\u0142ania synchroniczne",id:"dzia\u0142ania-synchroniczne",level:3},{value:"Zapis do pliku",id:"zapis-do-pliku",level:4},{value:"Odczyt z pliku",id:"odczyt-z-pliku",level:4},{value:"Dzia\u0142ania asynchroniczne",id:"dzia\u0142ania-asynchroniczne",level:3},{value:"Zapis z callbackiem",id:"zapis-z-callbackiem",level:4},{value:"Zapis z <code>Promisem</code>",id:"zapis-z-promisem",level:4},{value:"Do\u0142\u0105czanie danych do pliku - <code>fs.appendFile()</code>",id:"do\u0142\u0105czanie-danych-do-pliku---fsappendfile",level:2},{value:"Wersja z callbackiem",id:"wersja-z-callbackiem",level:3},{value:"Wersja z Promisem",id:"wersja-z-promisem",level:3}];function t(n){const e={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsxs)(e.h1,{id:"modu\u0142-fs",children:["Modu\u0142 ",(0,o.jsx)(e.code,{children:"fs"})]})}),"\n",(0,o.jsx)(e.h2,{id:"definicja",children:"Definicja"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"fs"})," (",(0,o.jsx)(e.em,{children:"file system"}),") pozwala na operacje na plikach i katalogach."]}),"\n",(0,o.jsxs)(e.li,{children:["Istniej\u0105 dwie wersje wi\u0119kszo\u015bci metod:","\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["synchroniczne (",(0,o.jsx)(e.code,{children:"readFileSync"}),", ",(0,o.jsx)(e.code,{children:"writeFileSync"}),") - one blokuj\u0105 program,"]}),"\n",(0,o.jsxs)(e.li,{children:["asynchroniczne (",(0,o.jsx)(e.code,{children:"readFile"}),", ",(0,o.jsx)(e.code,{children:"writeFile"}),") - one korzystaj\u0105 z ",(0,o.jsx)(e.code,{children:"callback\xf3w"})," / ",(0,o.jsx)(e.code,{children:"Promise"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"przygotowanie-projektu",children:"Przygotowanie projektu"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["utw\xf3rz nowy projekt TS (",(0,o.jsx)(e.code,{children:"New"})," -> ",(0,o.jsx)(e.code,{children:"New Project"}),")"]}),"\n",(0,o.jsxs)(e.li,{children:["doinstaluj zale\u017cno\u015bci ",(0,o.jsx)(e.code,{children:"npm i"})]}),"\n",(0,o.jsxs)(e.li,{children:["dopiszmy do ",(0,o.jsx)(e.code,{children:"package.json"})," instrukcje ",(0,o.jsx)(e.code,{children:"start"})," i ",(0,o.jsx)(e.code,{children:"dev"})]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-json",children:' "scripts": {\n    "build": "tsc",\n    "start": "npm run build && node dist/index.js",\n    "dev": "ts-node src/index.ts"\n  },\n'})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsx)(e.p,{children:"sprawd\u017a dzia\u0142anie programu przez:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:(0,o.jsx)(e.code,{children:"npm run dev"})}),"\n",(0,o.jsxs)(e.li,{children:["potem ",(0,o.jsx)(e.code,{children:"npm run start"})]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:["\n",(0,o.jsxs)(e.p,{children:["jak pod koniec poprzedniej lekcji wspominali\u015bmy, musimy doinstalowa\u0107 typy\n",(0,o.jsx)(e.code,{children:"npm install --save-dev @types/node"})]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"odczyt-i-zapis-nadpisywanie-do-pliku",children:"Odczyt i zapis (nadpisywanie) do pliku"}),"\n",(0,o.jsx)(e.h3,{id:"dzia\u0142ania-synchroniczne",children:"Dzia\u0142ania synchroniczne"}),"\n",(0,o.jsx)(e.h4,{id:"zapis-do-pliku",children:"Zapis do pliku"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["w pliku ",(0,o.jsx)(e.code,{children:"index.ts"})," dopiszemy:"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'import fs from "fs"\n\nconsole.log("Start")\n\n//plik nieistniej\u0105cy zostanie utworzony\nfs.writeFileSync("test.txt", "Hello World")\nconsole.log("zapisano 1")\n\n// zawarto\u015b\u0107 pliku zostanie nadpisana\nfs.writeFileSync("test.txt", "Witaj \u015bwiecie")\nconsole.log("zapisano 2")\n\nconsole.log("End 1")\n\n'})}),"\n",(0,o.jsx)(e.h4,{id:"odczyt-z-pliku",children:"Odczyt z pliku"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["w pliku ",(0,o.jsx)(e.code,{children:"index.ts"})," dopiszemy:"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'// odczyt z pliku\nconst content = fs.readFileSync("test.txt", "utf-8")\nconsole.log(content)\n\nconsole.log("End 2")\n\n\n'})}),"\n",(0,o.jsx)(e.h3,{id:"dzia\u0142ania-asynchroniczne",children:"Dzia\u0142ania asynchroniczne"}),"\n",(0,o.jsxs)(e.p,{children:["Zakomentuj poprzedni\u0105 zawarto\u015b\u0107 pliku ",(0,o.jsx)(e.code,{children:"index.ts"})]}),"\n",(0,o.jsx)(e.h4,{id:"zapis-z-callbackiem",children:"Zapis z callbackiem"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["w pliku ",(0,o.jsx)(e.code,{children:"index.ts"})," dopiszemy:"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'import fs from "fs"\n\nconsole.log("Start")\nfs.writeFile("nowyTest.txt",\n             "dane testowe",\n                  (err) => {\n    if (err) {\n        console.error("b\u0142\u0105d zapisu")\n        return\n    }\n    console.log("zapisano plik (async z callbackiem)")\n\n})\nconsole.log("End")\n\n/* wynik\nStart\nEnd\nzapisano plik (async z callbackiem)\n*/\n'})}),"\n",(0,o.jsxs)(e.h4,{id:"zapis-z-promisem",children:["Zapis z ",(0,o.jsx)(e.code,{children:"Promisem"})]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["w pliku ",(0,o.jsx)(e.code,{children:"index.ts"}),"  zakomentujmy porzedni kod i dopiszmy:"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'import {promises as fsp} from "fs"\n\nconsole.log("Start")\nasync function saveFile(){\n    try{\n        await fsp.writeFile("test3.txt", "dane testowe")\n        console.log("Plik zosta\u0142 zapisany (async/await).")\n    }catch(err){\n        console.error("b\u0142\u0105d zapisu: ", err)\n    }\n}\n\nsaveFile();\nconsole.log("End")\n\n'})}),"\n",(0,o.jsxs)(e.h2,{id:"do\u0142\u0105czanie-danych-do-pliku---fsappendfile",children:["Do\u0142\u0105czanie danych do pliku - ",(0,o.jsx)(e.code,{children:"fs.appendFile()"})]}),"\n",(0,o.jsx)(e.h3,{id:"wersja-z-callbackiem",children:"Wersja z callbackiem"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["w pliku ",(0,o.jsx)(e.code,{children:"index.ts"})," zakomentujmy zawarto\u015b\u0107 i dopiszmy:"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'import fs from `fs`;\n\n\nfs.appendFile("test.txt", "\\nco\u015b nowego", (err) => {\n    if(err){\n        console.log("B\u0142\u0105d zapisu")\n    }\n    console.log("Dane dopisano do pliku")\n})\n'})}),"\n",(0,o.jsx)(e.h3,{id:"wersja-z-promisem",children:"Wersja z Promisem"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["w pliku ",(0,o.jsx)(e.code,{children:"index.ts"})," zakomentujmy zawarto\u015b\u0107 i dopiszmy:"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'import {promises as fsp} from `fs`;\n\nasync function addNote(note:string){\n   const now = new Date()\n    const timestamp = now. toLocaleString("pl-PL")\n    const line = `[[${timestamp}]] ${note}\\n`\n\n    try{\n        await fsp.appendFile("notes.txt", line);\n        console.log("Dopisanow do pliku (async/await): ", line.trim())\n    }catch(err){\n        console.error("B\u0142\u0105d dopisawanie: ", err)\n    }\n}\n\nconsole.log("Start")\naddNote("notatka 1")\nconsole.log("End 1")\naddNote("notatka 2")\nconsole.log("End 2")\n\n/*wynik\nStart\nEnd 1\nEnd 2\nDopisanow do pliku (async/await)\nDopisanow do pliku (async/await)\n*/\n'})})]})}function p(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(t,{...n})}):t(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>d,x:()=>a});var s=i(6540);const o={},l=s.createContext(o);function d(n){const e=s.useContext(l);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:d(n.components),s.createElement(l.Provider,{value:e},n.children)}}}]);