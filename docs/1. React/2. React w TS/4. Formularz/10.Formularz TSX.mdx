---
title: Formularz TSX
---

# Nowy projekt w React
- generator *Vite*
- *templates* *React*
- plus *TypeScript*


# `App.tsx` jako formularz

## Dodajemy komponent `form`

:::tip Co to jest `SyntheticEvent`?
- W React nie pracujemy bezpośrednio na "surowych" zdarzeniach przeglądarki.
- Zamiast tego, React podstawia nam **SyntheticEvent** (Zdarzenie Syntetyczne).

:::note Analogia: React jako Tłumacz
Wyobraź sobie, że każda przeglądarka (Chrome, Firefox, Safari) mówi w nieco innym dialekcie.
* Chrome mówi: *"Użytkownik kliknął guzik"*.
* Starszy Internet Explorer mówi: *"Wciśnięto przycisk myszy"*.

Gdybyś pisał czysty JavaScript, musiałbyś rozumieć te wszystkie dialekty.
React działa jak **profesjonalny tłumacz**. Stoi między przeglądarką a Twoim kodem:
1.  Wyłapuje bełkotliwe zdarzenie z przeglądarki.
2.  "Tłumaczy" je na jeden, standardowy język (React).
3.  Przekazuje Tobie czysty, przewidywalny obiekt **`SyntheticEvent`**.

:::



Zmieniamy zawartość pliku `App.tsx` na:
```tsx

import type {SyntheticEvent} from "react";

function App() {

    // 2. Typujemy zdarzenie jako ogólne zdarzenie syntetyczne Reacta
    // HTMLFormElement informuje, na czym to zdarzenie występuje
    function handleSubmit(event: SyntheticEvent<HTMLFormElement>) {
        event.preventDefault();
        console.log(event.currentTarget); //
    }

    return (
        <form onSubmit={handleSubmit}>
            <button type="submit">Submit</button>
        </form>
    );
}

export default App;

```

:::tip `<HTMLFormElement>`
Ten zapis w nawiasach ostrych to informacja dla TypeScripta: "Z jakiego konkretnie elementu HTML pochodzi to zdarzenie?".

Analogia: Instrukcja Obsługi
Wyobraź sobie, że SyntheticEvent to pudełko z narzędziami.

Jeśli powiesz tylko SyntheticEvent (bez nawiasów), TypeScript widzi pudełko, ale nie wie, do czego ono służy. Myśli: "To jest jakieś zdarzenie z jakiegoś elementu".

Jeśli dodasz `<HTMLFormElement>`, przyklejasz na pudełko etykietę: "To jest FORMULARZ".

:::



:::note znacznik `<form>`
- to wbudowany komponent do tworzenia formularza
- ma wbudowaną właściwość `onSubmit`, która jako swoją wartość przyjmuje nazwę funkcji, która ma być wywołana, gdy formularz zostanie zatwierdzony (w naszym przypadku jest to funkcja `handleSubmit`)


:::

:::note znacznik `<button>`
- wbudowany komponent do tworzenia przycisku
- określiliśmy jego typ jako "submit", czyli naciśnięcie go wywoła funkcję `handleSubmit`

:::

:::note funkcja `handleSubmit`
- jest wywoływana, gdy użytkownik naciśnie klawisz określony jako `submit`
- React wyśle do tej funkcji specjalny obiekt, który nazwaliśmy sobie `event`, ale jego typ to właśnie `React.FormEvent<HTMLFormElement>`
- `event.preventDefault()` - używamy tego specjalnego obiektu, aby zatrzymać domyślne zachowanie formularza, którym jest zresetowanie wszystkich zmiennych i ponowne wczytanie strony

:::

## Dodajemy komponent `input`
```typescript jsx
import './App.css'
import type {ChangeEvent, FormEvent} from "react";

function App() {

  //...

    function handleTextInputChange(e: ChangeEvent<HTMLInputElement>){
       console.log(e)
       console.log(e.target)
       console.log(e.target.value) //tu będzie przechowywana wartość wprowadzona do pola input
    }

  return (
    <>
         <form onSubmit={handleSubmit}>
            <input
                type={"text"}
                value = "to jest init value"
                onChange={handleTextInputChange}
                placeholder={"Wprowadź jakiś tekst"}
            />

             <button type="submit" >Submit</button>
         </form>
    </>
  )
}

export default App
```
:::note znacznik `<input>`
- `type` - zdefiniowano typ jako tekstowy
- `value` - przypisano początkową wartość "to jest init wartość"
- `onChange` - atrybut, który nasłuchuje dowolnych zmian w komponencie input,
    - jeżeli zmiana wystąpi (np. wpisano literkę "a"), to uruchamiana jest funkcja `handleTextInputChange`
        - funkcja ta dostaje od React specjalny obiekt obsługujący zdarzenie zmiany
        - ten obiekt nazwaliśmy `e`
        - typ obiektu to `React.ChangeEvent<HTMLInputElement>`
:::
W konsoli pokazujemy:
- obiekt `e`,
- wartość jego atrybutu `e.target` oraz
- wartość tego atrybutu `e.target.value`

---
Do formularza dodamy hook `useState` -> następna strona






