---
title: Metoda GET
---

# Metoda GET

## Czym jest metoda GET w ExpressJS?
- Metoda GET to sposÃ³b pobierania danych z serwera.
- Gdy przeglÄ…darka (lub klient HTTP) wysyÅ‚a Å¼Ä…danie GET, mÃ³wi do serwera:
    - â€žHej, pokaÅ¼ mi te dane, ale niczego nie zmieniaj po swojej stronie.

:::tip Metafora
WyobraÅº sobie, Å¼e ExpressJS to restauracja:ðŸ½ï¸
- Klient przychodzi i pyta o menu:
    - nie chce niczego zamawiaÄ‡, tylko zobaczyÄ‡, co jest dostÄ™pne.
    - to jest `GET`
- Gdy klient skÅ‚ada zamÃ³wienie:
    - czyli przesyÅ‚a dane, np. imiÄ™, adres, zamÃ³wienie
    - to jest `POST`.
- Gdy usuwa rezerwacjÄ™ - to jest  `DELETE`.
- Gdy aktualizuje zamÃ³wienie - to jest `PUT` lub `PATCH`.


:::

## Endpoint `/games` z metodÄ… `GET`
### Pobieramy wszystkie gry
Dopiszmy do naszego expressa endpoint `/games`:
```ts
//...
app.get("/", (req:Request, res:Response) => {
    res.send("RetroGames APU. Use/games to see the games");
})

app.get("/games", (req: Request, res: Response) => {
    res.json(games);
});

app.listen...
```

SformuÅ‚ujmy i wyÅ›lijmy zapytanie:
```http request
### zapytanie o gry
GET {{baseUrl}}/games
Accept: application/json

```

### Pobieranie danych np. o jednej grze
### `route parameter` - parametr trasy
:::info *route parameter*
Parametr trasy to
- nazwany segment URL,
- pozwala na dynamiczne przechwytywanie wartoÅ›ci z adresu Å¼Ä…dania.
- jest definiowany za pomocÄ… dwukropka `:` przed nazwÄ… parametru w Å›cieÅ¼ce trasy,
- przechwycona wartoÅ›Ä‡ trafia do obiektu `req.params` w funkcji obsÅ‚ugi Å¼Ä…dania.

:::


```ts
app.get("/games/:id", (req: Request, res: Response) => {
    const game = games.find(g => g.id === Number(req.params.id));
    if (!game) return res.status(404).json({ message: "Game not found" });
    res.json(game);
});
```
i zapytanie:
```http request
### pytamy o grÄ™ z indeksem 3
GET {{baseUrl}}/games/3
Accept: application/json
```


:::danger WaÅ¼ne
Express wartoÅ›Ä‡ zapisuje w `req.params`
- dziÄ™ki temu moÅ¼esz dynamicznie reagowaÄ‡ na rÃ³Å¼ne adresy,
- np. `/games/1` (`id=1`), `/games/2` (`id=2`), itd.

:::

-----
***Dodatkowe przykÅ‚ady dla `route parameter`***
```ts
app.get("/house/:name",(req: Request, res: Response) => {
    console.log(`req.params.name: ${req.params.name}`)
    res.send(req.params)
})

app.get("/house/:name/room/:number",(req: Request, res: Response) => {
   const {name, number} = req.params;
   console.log(`req.params: ${name}, ${number}`)
   res.send(req.params)
})
```

```http request
### test route param
GET {{baseUrl}}/house/mojDomek
Accept: application/json

### test route param
GET {{baseUrl}}/house/mojDomek/room/33
Accept: application/json
```

------


### Filtrowanie
### `query parameter` - parametr zapytania

:::info Co to sÄ… parametry zapytania (`query parameters`)
- To dodatkowe informacje przekazywane w adresie URL po znaku `?`,
- SÅ‚uÅ¼Ä… np. do
    - filtrowania,
    - wyszukiwania,
    - sortowania
    - ...

:::

#### PrzykÅ‚ad
`GET /games?year=1984&platform=Atari`

```
? â€“ zaczyna czÄ™Å›Ä‡ parametrÃ³w zapytania
year=1984 â€“ pierwszy parametr (klucz = wartoÅ›Ä‡)
& â€“ Å‚Ä…czy kolejne parametry
platform=Atari â€“ drugi parametr
```

#### Jak odczytaÄ‡?
:::danger WaÅ¼ne
Express automatycznie umieszcza parametry zapytania w obiekcie
ðŸ‘‰ `req.query`

:::

#### Wybierzemy gry na Atarii wydane przed rokiem 1984
:::tip Typ danych w `req.query.platform`
- `string`
- `string[]`
- `undefined`

MoÅ¼emy zagwarantowaÄ‡, Å¼e nasz `platform` to `string` przez
`typeof platform === 'string'`

:::

Do istniejÄ…cej  `app.get('/games' ...` dodajemy:
```ts
app.get("/games", (req: Request, res: Response) => {
    const { year, platform } = req.query;

    // zwraca wszystkie gry, jeÅ¼eli nie podano year lub platform
    if(!year || !platform) return res.json(games)

   const filteredGames = games.filter(g => {
        if (year && g.year > Number(year))  return false

        if(platform){
            if (typeof platform === "string"){
                const queryPlatform = platform.toLowerCase();
                const gamePlatform = g.platform.toLowerCase();
                if(!gamePlatform.includes(queryPlatform)) return false;
            }
        }
        return true
    });

    res.json(filteredGames)
})
```

```http request
### filtrujemy gry po roku i platformie
GET {{baseUrl}}/games/?year=1984&platform=Atari
Accept: application/json

```

---------
### RÃ³Å¼nica miÄ™dzy rodzajami danych w Express

| Typ danych       | Gdzie wystÄ™puje           | PrzykÅ‚ad URL / dane           | Jak pobraÄ‡ w Express |
|------------------|---------------------------|-------------------------------|----------------------|
| **Route param**  | W Å›cieÅ¼ce adresu (URL)    | `/games/5`                    | `req.params.id`      |
| **Query param**  | Po znaku `?` w adresie    | `/games?year=1984&platform=Atari` | `req.query.year`     |
| **Body param**   | W treÅ›ci Å¼Ä…dania (np. POST) | `{ "title": "Pong" }`         | `req.body.title`     |



:::tip
**Opis:**
- *Route param* â€” uÅ¼ywany do pobierania konkretnego zasobu (np. gry o danym `id`).
- *Query param* â€” sÅ‚uÅ¼y do filtrowania lub wyszukiwania danych.
- *Body param* â€” wykorzystywany przy przesyÅ‚aniu danych do serwera (np. przy `POST` lub `PUT`).

:::













